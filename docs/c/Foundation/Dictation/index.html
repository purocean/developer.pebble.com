<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Dictation // Pebble Developers</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="The official developer website for the Pebble smartwatch.">
  <link rel="canonical" href="http://developer.getpebble.com/docs/c/Foundation/Dictation/">
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,600,700" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet" type="text/css">
  <link href="/developer.pebble.com/assets/favicon.png" rel="shortcut icon" type="image/vnd.microsoft.icon" id="favicon">
  <link rel="stylesheet" type="text/css" href="/developer.pebble.com/assets/css/main.css">

  <noscript>
  <link rel="stylesheet" type="text/css" href="/developer.pebble.com/assets/css/noscript.css">
  </noscript>

  <script type="text/javascript" >
    var _rollbarConfig = {
      accessToken: 'e1ecd52de5ba46c88e9f6f346a954c62',
      captureUncaught: true,
      payload: {
        environment: 'production'
      }
    };
    !function(a,b){function c(b){this.shimId=++h,this.notifier=null,this.parentShim=b,this.logger=function(){},a.console&&void 0===a.console.shimId&&(this.logger=a.console.log)}function d(b,c,d){a._rollbarWrappedError&&(d[4]||(d[4]=a._rollbarWrappedError),d[5]||(d[5]=a._rollbarWrappedError._rollbarContext),a._rollbarWrappedError=null),b.uncaughtError.apply(b,d),c&&c.apply(a,d)}function e(b){var d=c;return g(function(){if(this.notifier)return this.notifier[b].apply(this.notifier,arguments);var c=this,e="scope"===b;e&&(c=new d(this));var f=Array.prototype.slice.call(arguments,0),g={shim:c,method:b,args:f,ts:new Date};return a._rollbarShimQueue.push(g),e?c:void 0})}function f(a,b){if(b.hasOwnProperty&&b.hasOwnProperty("addEventListener")){var c=b.addEventListener;b.addEventListener=function(b,d,e){c.call(this,b,a.wrap(d),e)};var d=b.removeEventListener;b.removeEventListener=function(a,b,c){d.call(this,a,b&&b._wrapped?b._wrapped:b,c)}}}function g(a,b){return b=b||this.logger,function(){try{return a.apply(this,arguments)}catch(c){b("Rollbar internal error:",c)}}}var h=0;c.init=function(a,b){var e=b.globalAlias||"Rollbar";if("object"==typeof a[e])return a[e];a._rollbarShimQueue=[],a._rollbarWrappedError=null,b=b||{};var h=new c;return g(function(){if(h.configure(b),b.captureUncaught){var c=a.onerror;a.onerror=function(){var a=Array.prototype.slice.call(arguments,0);d(h,c,a)};var g,i,j="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(g=0;g<j.length;++g)i=j[g],a[i]&&a[i].prototype&&f(h,a[i].prototype)}return a[e]=h,h},h.logger)()},c.prototype.loadFull=function(a,b,c,d,e){var f=g(function(){var a=b.createElement("script"),e=b.getElementsByTagName("script")[0];a.src=d.rollbarJsUrl,a.async=!c,a.onload=h,e.parentNode.insertBefore(a,e)},this.logger),h=g(function(){var b;if(void 0===a._rollbarPayloadQueue){var c,d,f,g;for(b=new Error("rollbar.js did not load");c=a._rollbarShimQueue.shift();)for(f=c.args,g=0;g<f.length;++g)if(d=f[g],"function"==typeof d){d(b);break}}"function"==typeof e&&e(b)},this.logger);g(function(){c?f():a.addEventListener?a.addEventListener("load",f,!1):a.attachEvent("onload",f)},this.logger)()},c.prototype.wrap=function(b,c){try{var d;if(d="function"==typeof c?c:function(){return c||{}},"function"!=typeof b)return b;if(b._isWrap)return b;if(!b._wrapped){b._wrapped=function(){try{return b.apply(this,arguments)}catch(c){throw c._rollbarContext=d(),c._rollbarContext._wrappedSource=b.toString(),a._rollbarWrappedError=c,c}},b._wrapped._isWrap=!0;for(var e in b)b.hasOwnProperty(e)&&(b._wrapped[e]=b[e])}return b._wrapped}catch(f){return b}};for(var i="log,debug,info,warn,warning,error,critical,global,configure,scope,uncaughtError".split(","),j=0;j<i.length;++j)c.prototype[i[j]]=e(i[j]);var k="//d37gvrvc0wt4s1.cloudfront.net/js/v1.1/rollbar.min.js";_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||k;var l=c.init(a,_rollbarConfig);l.loadFull(a,b,!1,_rollbarConfig)}(window,document);
  </script>
  <script type="text/javascript" async>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-30638158-4', 'auto');
    ga('send', 'pageview');
  </script>

</head>
<body class="">
  <div class="mmenu__wrapper">
    <div class="sidebar__wrapper sidebar__wrapper--sectionmenu">
  <div class="sidebar sidebar--narrow">
    <a href="/" class="sidebar__header">
      <span>pebble</span>
    </a>
    <ul class="mainmenu">
      <li class="mainmenu__item mainmenu__item--getting-started"><a href="/tutorials/"><span>Tutorials</span></a></li>
<li class="mainmenu__item mainmenu__item--sdk"><a href="/sdk/"><span>Get the SDK</span></a></li>
<li class="mainmenu__item mainmenu__item--guides"><a href="/guides/"><span>Guides</span></a></li>
<li class="mainmenu__item mainmenu__item--docs active"><a href="/docs/"><span>Documentation</span></a></li>
<li class="mainmenu__item mainmenu__item--examples"><a href="/examples/"><span>Examples</span></a></li>
<li class="mainmenu__item mainmenu__item--community"><a href="/community/"><span>Community</span></a></li>
<li class="mainmenu__item mainmenu__item--blog"><a href="/blog/"><span>Blog</span></a></li>
<li class="mainmenu__item mainmenu__item--more"><a href="/more/"><span>More</span></a></li>

    </ul>
    <div class="sidebar__legal">
      <a href="https://www.pebble.com/legal/privacy/" target="_blank">Privacy</a>
      <br>
      <a href="https://www.pebble.com/legal/cookies/" target="_blank">Cookies</a>
    </div>
    <a href="https://dev-portal.getpebble.com/" target="_blank" class="sidebar__footer">Publish</a>
  </div>
  <div class="section-menu section-menu--docs section-menu--dark">
    <div class="section-menu__header">

      <h3><a href="/docs/c/">Pebble C API</a><a href="#"><i class="fa fa-chevron-down fa-lg documentation-menu__arrow js-doc-menu-toggle"></i></a></h3>

      <ul class="documentation-menu js-doc-menu">
        <li><a href="/docs/c/">Pebble C API</a></li>

        <li><a href="/docs/rockyjs/">Pebble JavaScript API</a></li>
        <li><a href="/docs/pebblekit-js/">PebbleKit JS</a></li>
        <li><a href="/docs/pebblekit-ios/">PebbleKit iOS</a></li>
        <li><a href="/docs/pebblekit-android/">PebbleKit Android</a></li>
      </ul>
    </div>

    <ul>



  <li class="section-menu__item open">
    <a href="/docs/c/Foundation/">Foundation</a>
    <ul>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/App/"><span>App</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/App_Communication/"><span>App Communication</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/App_Glance/"><span>App Glance</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/AppMessage/"><span>AppMessage</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/AppSync/"><span>AppSync</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/AppWorker/"><span>AppWorker</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/DataLogging/"><span>DataLogging</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/DataStructures/"><span>DataStructures</span></a>

        <ul>


            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/DataStructures/UUID/"><span>UUID</span></a></li>

        </ul>

      </li>

      <li class="section-menu__subitem open active">
        <a href="/docs/c/Foundation/Dictation/"><span>Dictation</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Dictionary/"><span>Dictionary</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Event_Service/"><span>Event Service</span></a>

        <ul>


            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/AccelerometerService/"><span>AccelerometerService</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/AppFocusService/"><span>AppFocusService</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/BatteryStateService/"><span>BatteryStateService</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/CompassService/"><span>CompassService</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/ConnectionService/"><span>ConnectionService</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/HealthService/"><span>HealthService</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/TickTimerService/"><span>TickTimerService</span></a></li>

        </ul>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Exit_Reason/"><span>Exit Reason</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Internationalization/"><span>Internationalization</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Launch_Reason/"><span>Launch Reason</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Logging/"><span>Logging</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Math/"><span>Math</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Memory_Management/"><span>Memory Management</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Platform/"><span>Platform</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Resources/"><span>Resources</span></a>

        <ul>


            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Resources/File_Formats/"><span>File Formats</span></a></li>

        </ul>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Storage/"><span>Storage</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Timer/"><span>Timer</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Wakeup/"><span>Wakeup</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Wall_Time/"><span>Wall Time</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/WatchInfo/"><span>WatchInfo</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Rocky/"><span>Rocky</span></a>

      </li>

    </ul>
  </li>




  <li class="section-menu__item">
    <a href="/docs/c/Graphics/">Graphics</a>
    <ul>

      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Draw_Commands/"><span>Draw Commands</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Drawing_Paths/"><span>Drawing Paths</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Drawing_Primitives/"><span>Drawing Primitives</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Drawing_Text/"><span>Drawing Text</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Fonts/"><span>Fonts</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Graphics_Context/"><span>Graphics Context</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Graphics_Types/"><span>Graphics Types</span></a>

        <ul>


            <li class="section-menu__subsubitem"><a href="/docs/c/Graphics/Graphics_Types/Color_Definitions/"><span>Color Definitions</span></a></li>

        </ul>

      </li>

    </ul>
  </li>




  <li class="section-menu__item">
    <a href="/docs/c/User_Interface/">User Interface</a>
    <ul>

      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Animation/"><span>Animation</span></a>

        <ul>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Animation/PropertyAnimation/"><span>PropertyAnimation</span></a></li>

        </ul>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Clicks/"><span>Clicks</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Layers/"><span>Layers</span></a>

        <ul>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/ActionBarLayer/"><span>ActionBarLayer</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/BitmapLayer/"><span>BitmapLayer</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/MenuLayer/"><span>MenuLayer</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/RotBitmapLayer/"><span>RotBitmapLayer</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/ScrollLayer/"><span>ScrollLayer</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/SimpleMenuLayer/"><span>SimpleMenuLayer</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/StatusBarLayer/"><span>StatusBarLayer</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/TextLayer/"><span>TextLayer</span></a></li>

        </ul>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Light/"><span>Light</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Preferences/"><span>Preferences</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/UnobstructedArea/"><span>UnobstructedArea</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Vibes/"><span>Vibes</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Window/"><span>Window</span></a>

        <ul>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Window/ActionMenu/"><span>ActionMenu</span></a></li>


            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Window/NumberWindow/"><span>NumberWindow</span></a></li>

        </ul>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Window_Stack/"><span>Window Stack</span></a>

      </li>

    </ul>
  </li>










  <li class="section-menu__item">
    <a href="/docs/c/Standard_C/">Standard C</a>
    <ul>

      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Format/"><span>Format</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Locale/"><span>Locale</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Math/"><span>Math</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Memory/"><span>Memory</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/String/"><span>String</span></a>

      </li>

      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Time/"><span>Time</span></a>

      </li>

    </ul>
  </li>


</ul>


  </div>
</div><!-- sidebar__wrapper -->
<div class="content content--section-menu">
  <div class="search">
  <a  href="javascript:void(0);" class="mobile-nav__hamburger js-mobile-nav-toggle"><i class="fa fa-reorder"></i></a>
  <i class="fa fa-lg fa-search search__icon"></i><input type="search" id="quicksearch" placeholder="Search Developer Site">
</div>
<div class="quicksearch" style="display: none;" id="quicksearch__results"></div>
<div id="search__blackout" style="display: none;"></div>

  <div class="container">
    <div class="visible-m visible-s visible-xs row">
  <div class="col-xs-11">
    <div class="form__group">
      <div class="select-style no-label">
        <select class="js-toc-select">
          <option value="">Jump to item&hellip;</option>



<option value="#functions">FUNCTIONS</option>

  <option value="/docs/c/Foundation/Dictation/#dictation_session_create">dictation_session_create</option>

  <option value="/docs/c/Foundation/Dictation/#dictation_session_destroy">dictation_session_destroy</option>

  <option value="/docs/c/Foundation/Dictation/#dictation_session_start">dictation_session_start</option>

  <option value="/docs/c/Foundation/Dictation/#dictation_session_stop">dictation_session_stop</option>

  <option value="/docs/c/Foundation/Dictation/#dictation_session_enable_confirmation">dictation_session_enable_confirmation</option>

  <option value="/docs/c/Foundation/Dictation/#dictation_session_enable_error_dialogs">dictation_session_enable_error_dialogs</option>








<option value="#enums">ENUMS</option>

  <option value="/docs/c/Foundation/Dictation/#DictationSessionStatus">DictationSessionStatus</option>




<option value="#typedefs">TYPEDEFS</option>

  <option value="/docs/c/Foundation/Dictation/#DictationSession">DictationSession</option>

  <option value="/docs/c/Foundation/Dictation/#DictationSessionStatusCallback">DictationSessionStatusCallback</option>




<option value="#defines">MACRO DEFINTIONS</option>

  <option value="/docs/c/Foundation/Dictation/#PBL_IF_MICROPHONE_ELSE">PBL_IF_MICROPHONE_ELSE</option>



        </select>
      </div>
    </div>
  </div>
  <div class="col-xs-1">
    <a href="javascript:void(0)" class="btn btn--wide btn--bg-green btn--fg-white fa-lg" data-modal-target="#modal-docs-help" data-modal-fit-viewport="false"><i class="fa fa-question-circle"></i></a>
  </div>
</div>


<div class="row">
  <div class="col-l-8">
    <div class="documentation documentation__c">





      <h1 class="pagetitle">Dictation</h1>












        <h2 class="anchor" id="functions">Function<span class="hidden-s hidden-xs"> Documentation</span></h2>

          <div class="docs__item__anchor" id="dictation_session_create">


<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span>DictationSession * </span><span class="docs__item__name">dictation_session_create</span><span>(</span><span class="docs__item__param"><a refid="group___standard_c_1gad53b3f685c3f3153f35ec87ea6f349d1" kindref="member" href="/docs/c/Standard_C/#uint32_t">uint32_t</a> buffer_size</span><span>, </span><span class="docs__item__param"><a refid="group___dictation_1ga753267821a97adde24cdb4746f572d86" kindref="member" href="/docs/c/Foundation/Dictation/#DictationSessionStatusCallback">DictationSessionStatusCallback</a> callback</span><span>, </span><span class="docs__item__param">void * callback_context</span><span></span><span class="docs__item__param__end">)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">

<div class="docs__item__summary">
  <p>Create a dictation session. The session object can be used more than once to get a transcription. When a transcription is received a buffer will be allocated to store the text in with a maximum size specified by buffer_size. When a transcription and accepted by the user or a failure of some sort occurs, the callback specified will be called with the status and the transcription if one was accepted. </p>
</div>



<div class="docs__item__description">
  <p>

</p>
</div>





<h4>Parameters</h4>
<dl>

  <dt><span style="color: #777"></span> buffer_size</dt>
  <dd><p>size of buffer to allocate for the transcription text; text will be truncated if it is longer than the maximum size specified; a size of 0 will allow the session to allocate as much as it needs and text will not be truncated </p></dt>

  <dt><span style="color: #777"></span> callback</dt>
  <dd><p>dictation session status handler (must be valid) </p></dt>

  <dt><span style="color: #777"></span> callback_context</dt>
  <dd><p>context pointer for status handler </p></dt>

</dl>



  <h4>Returns</h4>

    <p>handle to the dictation session or NULL if the phone app is not connected or does not support voice dictation, if this is called on a platform that doesn't support voice dictation, or if an internal error occurs. </p>





  </div>
</div>


          </div>

          <div class="docs__item__anchor" id="dictation_session_destroy">


<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span>void </span><span class="docs__item__name">dictation_session_destroy</span><span>(</span><span class="docs__item__param">DictationSession * session</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">

<div class="docs__item__summary">
  <p>Destroy the dictation session and free its memory. Will terminate a session in progress. </p>
</div>



<div class="docs__item__description">
  <p>
</p>
</div>





<h4>Parameters</h4>
<dl>

  <dt><span style="color: #777"></span> session</dt>
  <dd><p>dictation session to be destroyed </p></dt>

</dl>






  </div>
</div>


          </div>

          <div class="docs__item__anchor" id="dictation_session_start">


<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___dictation_1ga0379abc18ef975d7f954ed644981c20f" kindref="member" href="/docs/c/Foundation/Dictation/#DictationSessionStatus">DictationSessionStatus</a> </span><span class="docs__item__name">dictation_session_start</span><span>(</span><span class="docs__item__param">DictationSession * session</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">

<div class="docs__item__summary">
  <p>Start the dictation session. The dictation UI will be shown. When the user accepts a transcription or exits the UI, or, when the confirmation dialog is disabled and a status is received, the status callback will be called. Can only be called when no session is in progress. The session can be restarted multiple times after the UI is exited or the session is stopped. </p>
</div>



<div class="docs__item__description">
  <p>

</p>
</div>





<h4>Parameters</h4>
<dl>

  <dt><span style="color: #777"></span> session</dt>
  <dd><p>dictation session to start or restart </p></dt>

</dl>



  <h4>Returns</h4>

    <p>true if session was started, false if session is already in progress or is invalid. </p>





  </div>
</div>


          </div>

          <div class="docs__item__anchor" id="dictation_session_stop">


<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___dictation_1ga0379abc18ef975d7f954ed644981c20f" kindref="member" href="/docs/c/Foundation/Dictation/#DictationSessionStatus">DictationSessionStatus</a> </span><span class="docs__item__name">dictation_session_stop</span><span>(</span><span class="docs__item__param">DictationSession * session</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">

<div class="docs__item__summary">
  <p>Stop the current dictation session. The UI will be hidden and no status callbacks will be received after the session is stopped. </p>
</div>



<div class="docs__item__description">
  <p>

</p>
</div>





<h4>Parameters</h4>
<dl>

  <dt><span style="color: #777"></span> session</dt>
  <dd><p>dictation session to stop </p></dt>

</dl>



  <h4>Returns</h4>

    <p>true if session was stopped, false if session was not started or is invalid </p>





  </div>
</div>


          </div>

          <div class="docs__item__anchor" id="dictation_session_enable_confirmation">


<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span>void </span><span class="docs__item__name">dictation_session_enable_confirmation</span><span>(</span><span class="docs__item__param">DictationSession * session</span><span>, </span><span class="docs__item__param">bool is_enabled</span><span></span><span class="docs__item__param__end">)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">

<div class="docs__item__summary">
  <p>Enable or disable user confirmation of transcribed text, which allows the user to accept or reject (and restart) the transcription. Must be called before the session is started. </p>
</div>



<div class="docs__item__description">
  <p>
</p>
</div>





<h4>Parameters</h4>
<dl>

  <dt><span style="color: #777"></span> session</dt>
  <dd><p>dictation session to modify </p></dt>

  <dt><span style="color: #777"></span> is_enabled</dt>
  <dd><p>set to true to enable user confirmation of transcriptions (default), false to disable </p></dt>

</dl>






  </div>
</div>


          </div>

          <div class="docs__item__anchor" id="dictation_session_enable_error_dialogs">


<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span>void </span><span class="docs__item__name">dictation_session_enable_error_dialogs</span><span>(</span><span class="docs__item__param">DictationSession * session</span><span>, </span><span class="docs__item__param">bool is_enabled</span><span></span><span class="docs__item__param__end">)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">

<div class="docs__item__summary">
  <p>Enable or disable error dialogs when transcription fails. Must be called before the session is started. Disabling error dialogs will also disable automatic retries if transcription fails. </p>
</div>



<div class="docs__item__description">
  <p>
</p>
</div>





<h4>Parameters</h4>
<dl>

  <dt><span style="color: #777"></span> session</dt>
  <dd><p>dictation session to modify </p></dt>

  <dt><span style="color: #777"></span> is_enabled</dt>
  <dd><p>set to true to enable error dialogs (default), false to disable </p></dt>

</dl>






  </div>
</div>


          </div>








        <h2 class="anchor" id="enums">Enum<span class="hidden-s hidden-xs"> Documentation</span></h2>

          <div class="docs__item__anchor" id="DictationSessionStatus">


<div class="docs__item docs__item--enum">
  <div class="docs__item__header">enum <span class="docs__item__name">DictationSessionStatus</span></div>
  <div class="docs__item__body">







    <h4>Enumerators</h4>

    <dl>

      <span id="DictationSessionStatusSuccess" class="docs__item__anchor"></span>

        <dt>DictationSessionStatusSuccess</dt>
        <dd>

          <p>Transcription successful, with a valid result. </p>
        </dd>


      <span id="DictationSessionStatusFailureTranscriptionRejected" class="docs__item__anchor"></span>

        <dt>DictationSessionStatusFailureTranscriptionRejected</dt>
        <dd>

          <p>User rejected transcription and exited UI. </p>
        </dd>


      <span id="DictationSessionStatusFailureTranscriptionRejectedWithError" class="docs__item__anchor"></span>

        <dt>DictationSessionStatusFailureTranscriptionRejectedWithError</dt>
        <dd>

          <p>User exited UI after transcription error. </p>
        </dd>


      <span id="DictationSessionStatusFailureSystemAborted" class="docs__item__anchor"></span>

        <dt>DictationSessionStatusFailureSystemAborted</dt>
        <dd>

          <p>Too many errors occurred during transcription and the UI exited. </p>
        </dd>


      <span id="DictationSessionStatusFailureNoSpeechDetected" class="docs__item__anchor"></span>

        <dt>DictationSessionStatusFailureNoSpeechDetected</dt>
        <dd>

          <p>No speech was detected and UI exited. </p>
        </dd>


      <span id="DictationSessionStatusFailureConnectivityError" class="docs__item__anchor"></span>

        <dt>DictationSessionStatusFailureConnectivityError</dt>
        <dd>

          <p>No BT or internet connection. </p>
        </dd>


      <span id="DictationSessionStatusFailureDisabled" class="docs__item__anchor"></span>

        <dt>DictationSessionStatusFailureDisabled</dt>
        <dd>

          <p>Voice transcription disabled for this user. </p>
        </dd>


      <span id="DictationSessionStatusFailureInternalError" class="docs__item__anchor"></span>

        <dt>DictationSessionStatusFailureInternalError</dt>
        <dd>

          <p>Voice transcription failed due to internal error. </p>
        </dd>


      <span id="DictationSessionStatusFailureRecognizerError" class="docs__item__anchor"></span>

        <dt>DictationSessionStatusFailureRecognizerError</dt>
        <dd>

          <p>Cloud recognizer failed to transcribe speech (only possible if error dialogs disabled) </p>
        </dd>


    </dl>



  </div>
</div>


          </div>




        <h2 class="anchor" id="typedefs">Typedef<span class="hidden-s hidden-xs"> Documentation</span></h2>

          <div class="docs__item__anchor" id="DictationSession">


<div class="docs__item docs__item--typedef">
  <div class="docs__item__header">
    typedef struct DictationSession <span class="docs__item__name">DictationSession</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">












  </div>
</div>


          </div>

          <div class="docs__item__anchor" id="DictationSessionStatusCallback">


<div class="docs__item docs__item--typedef">
  <div class="docs__item__header">
    typedef void(* <span class="docs__item__name">DictationSessionStatusCallback</span>)(DictationSession *session, DictationSessionStatus status, char *transcription, void *context)
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">

<div class="docs__item__summary">
  <p>Dictation status callback. Indicates success or failure of the dictation session and, if successful, passes the transcribed string to the user of the dictation session. The transcribed string will be freed after this call returns, so the string should be copied if it needs to be retained afterwards. </p>
</div>



<div class="docs__item__description">
  <p>
</p>
</div>





<h4>Parameters</h4>
<dl>

  <dt><span style="color: #777"></span> session</dt>
  <dd><p>dictation session from which the status was received </p></dt>

  <dt><span style="color: #777"></span> status</dt>
  <dd><p>dictation status </p></dt>

  <dt><span style="color: #777"></span> transcription</dt>
  <dd><p>transcribed string </p></dt>

  <dt><span style="color: #777"></span> context</dt>
  <dd><p>callback context specified when starting the session </p></dt>

</dl>






  </div>
</div>


          </div>




        <h2 class="anchor" id="defines">Macro Definition<span class="hidden-s hidden-xs"> Documentation</span></h2>

          <div class="docs__item__anchor" id="PBL_IF_MICROPHONE_ELSE">

              <ul class="docs__item__tabs">

  <li>
    <a href="javascript:void(0);" data-platform="aplite">SDK 3</a>
  </li>

  <li>
    <a href="javascript:void(0);" data-platform="basalt">SDK 4</a>
  </li>

</ul>



                <section data-platform="aplite">

<div class="docs__item docs__item--define">

  <div class="docs__item__header">
    <span>#define  </span><span class="docs__item__name">PBL_IF_MICROPHONE_ELSE </span><span>(</span><span class="docs__item__param"> if_true</span><span>, </span><span class="docs__item__param"> if_false</span><span></span><span class="docs__item__param__end">)</span>
    <div class="clearfix"></div>
  </div>

  <div class="docs__item__body">

<div class="docs__item__summary">
  <p>Convenience macro to switch between two expressions depending on mic support. On platforms with a mic the first expression will be chosen, the second otherwise. </p>
</div>












  </div>
</div>

                </section>



                <section data-platform="basalt">

<div class="docs__item docs__item--define">

  <div class="docs__item__header">
    <span>#define  </span><span class="docs__item__name">PBL_IF_MICROPHONE_ELSE </span><span>(</span><span class="docs__item__param"> if_true</span><span>, </span><span class="docs__item__param"> if_false</span><span></span><span class="docs__item__param__end">)</span>
    <div class="clearfix"></div>
  </div>

  <div class="docs__item__body">

<div class="docs__item__summary">
  <p>Convenience macro to switch between two expressions depending on mic support. On platforms with a mic the first expression will be chosen, the second otherwise. </p>
</div>












  </div>
</div>

                </section>



          </div>



    </div>
  </div>
  <div class="col-l-4 hidden-s hidden-xs hidden-m">
    <div class="gray-box gray-box--fixed">
      <p><a href="javascript:void(0)" class="btn btn--wide btn--bg-green btn--fg-white" data-modal-target="#modal-docs-help" data-modal-fit-viewport="false">Need some help?</a></p>



<h3><a href="#functions">Functions</a></h3>
<ul class="toc">

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#dictation_session_create">dictation_session_create</a></li>

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#dictation_session_destroy">dictation_session_destroy</a></li>

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#dictation_session_start">dictation_session_start</a></li>

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#dictation_session_stop">dictation_session_stop</a></li>

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#dictation_session_enable_confirmation">dictation_session_enable_confirmation</a></li>

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#dictation_session_enable_error_dialogs">dictation_session_enable_error_dialogs</a></li>

</ul>







<h3><a href="#enums">Enums</a></h3>
<ul class="toc">

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#DictationSessionStatus">DictationSessionStatus</a></li>

</ul>



<h3><a href="#typedefs">Typedefs</a></h3>
<ul class="toc">

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#DictationSession">DictationSession</a></li>

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#DictationSessionStatusCallback">DictationSessionStatusCallback</a></li>

</ul>



<h3><a href="#defines">Macro Defintions</a></h3>
<ul class="toc">

    <li class="toc__item"><a href="/docs/c/Foundation/Dictation/#PBL_IF_MICROPHONE_ELSE">PBL_IF_MICROPHONE_ELSE</a></li>

</ul>


    </div>
  </div>
</div>

<div id="modal-docs-help" class="hidden" style="width: 40em;">
  <h4>Getting Help</h4>
  <p>
    Do you have questions about the Pebble SDK?
  </p>
  <p>
    Do you need some help understanding something on this page?
  </p>
  <p>
    You can either take advantage of our awesome developer community and
    <a href="https://forums.getpebble.com/categories/watchface-sdk-help/">check out the SDK Help forums</a>,
    or you can <a href="/contact/">send us a message</a> through
    the website!
  </p>
</div>

  </div>
</div>


  </div>
  <script type="text/javascript">
    var searchPrimary = '';
  </script>

  <script type="text/javascript" src="/developer.pebble.com/assets/js/libs-ce98da7b5eecc97f976a3cad8e665a31.js"></script>

  <script type="text/javascript" src="/developer.pebble.com/assets/js/templates.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/app.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/search.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/quicksearch.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/disqus.js"></script>

  <script type="text/javascript" src="/developer.pebble.com/assets/js/docs/c.js"></script>

</body>
</html>
