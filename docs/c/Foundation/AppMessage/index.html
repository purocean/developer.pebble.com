<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>AppMessage // Pebble Developers</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="The official developer website for the Pebble smartwatch.">
  <link rel="canonical" href="http://developer.getpebble.com/docs/c/Foundation/AppMessage/">
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,600,700" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet" type="text/css">
  <link href="/assets/favicon.png" rel="shortcut icon" type="image/vnd.microsoft.icon" id="favicon">
  <link rel="stylesheet" type="text/css" href="/assets/css/main.css">
  
  <noscript>
  <link rel="stylesheet" type="text/css" href="/assets/css/noscript.css">
  </noscript>
  
  <script type="text/javascript" >
    var _rollbarConfig = {
      accessToken: 'e1ecd52de5ba46c88e9f6f346a954c62',
      captureUncaught: true,
      payload: {
        environment: 'production'
      }
    };
    !function(a,b){function c(b){this.shimId=++h,this.notifier=null,this.parentShim=b,this.logger=function(){},a.console&&void 0===a.console.shimId&&(this.logger=a.console.log)}function d(b,c,d){a._rollbarWrappedError&&(d[4]||(d[4]=a._rollbarWrappedError),d[5]||(d[5]=a._rollbarWrappedError._rollbarContext),a._rollbarWrappedError=null),b.uncaughtError.apply(b,d),c&&c.apply(a,d)}function e(b){var d=c;return g(function(){if(this.notifier)return this.notifier[b].apply(this.notifier,arguments);var c=this,e="scope"===b;e&&(c=new d(this));var f=Array.prototype.slice.call(arguments,0),g={shim:c,method:b,args:f,ts:new Date};return a._rollbarShimQueue.push(g),e?c:void 0})}function f(a,b){if(b.hasOwnProperty&&b.hasOwnProperty("addEventListener")){var c=b.addEventListener;b.addEventListener=function(b,d,e){c.call(this,b,a.wrap(d),e)};var d=b.removeEventListener;b.removeEventListener=function(a,b,c){d.call(this,a,b&&b._wrapped?b._wrapped:b,c)}}}function g(a,b){return b=b||this.logger,function(){try{return a.apply(this,arguments)}catch(c){b("Rollbar internal error:",c)}}}var h=0;c.init=function(a,b){var e=b.globalAlias||"Rollbar";if("object"==typeof a[e])return a[e];a._rollbarShimQueue=[],a._rollbarWrappedError=null,b=b||{};var h=new c;return g(function(){if(h.configure(b),b.captureUncaught){var c=a.onerror;a.onerror=function(){var a=Array.prototype.slice.call(arguments,0);d(h,c,a)};var g,i,j="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(g=0;g<j.length;++g)i=j[g],a[i]&&a[i].prototype&&f(h,a[i].prototype)}return a[e]=h,h},h.logger)()},c.prototype.loadFull=function(a,b,c,d,e){var f=g(function(){var a=b.createElement("script"),e=b.getElementsByTagName("script")[0];a.src=d.rollbarJsUrl,a.async=!c,a.onload=h,e.parentNode.insertBefore(a,e)},this.logger),h=g(function(){var b;if(void 0===a._rollbarPayloadQueue){var c,d,f,g;for(b=new Error("rollbar.js did not load");c=a._rollbarShimQueue.shift();)for(f=c.args,g=0;g<f.length;++g)if(d=f[g],"function"==typeof d){d(b);break}}"function"==typeof e&&e(b)},this.logger);g(function(){c?f():a.addEventListener?a.addEventListener("load",f,!1):a.attachEvent("onload",f)},this.logger)()},c.prototype.wrap=function(b,c){try{var d;if(d="function"==typeof c?c:function(){return c||{}},"function"!=typeof b)return b;if(b._isWrap)return b;if(!b._wrapped){b._wrapped=function(){try{return b.apply(this,arguments)}catch(c){throw c._rollbarContext=d(),c._rollbarContext._wrappedSource=b.toString(),a._rollbarWrappedError=c,c}},b._wrapped._isWrap=!0;for(var e in b)b.hasOwnProperty(e)&&(b._wrapped[e]=b[e])}return b._wrapped}catch(f){return b}};for(var i="log,debug,info,warn,warning,error,critical,global,configure,scope,uncaughtError".split(","),j=0;j<i.length;++j)c.prototype[i[j]]=e(i[j]);var k="//d37gvrvc0wt4s1.cloudfront.net/js/v1.1/rollbar.min.js";_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||k;var l=c.init(a,_rollbarConfig);l.loadFull(a,b,!1,_rollbarConfig)}(window,document);
  </script>
  <script type="text/javascript" async>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-30638158-4', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>
<body class="">
  <div class="mmenu__wrapper">
    <div class="sidebar__wrapper sidebar__wrapper--sectionmenu">
  <div class="sidebar sidebar--narrow">
    <a href="/" class="sidebar__header">
      <span>pebble</span>
    </a>
    <ul class="mainmenu">
      <li class="mainmenu__item mainmenu__item--getting-started"><a href="/tutorials/"><span>Tutorials</span></a></li>
<li class="mainmenu__item mainmenu__item--sdk"><a href="/sdk/"><span>Get the SDK</span></a></li>
<li class="mainmenu__item mainmenu__item--guides"><a href="/guides/"><span>Guides</span></a></li>
<li class="mainmenu__item mainmenu__item--docs active"><a href="/docs/"><span>Documentation</span></a></li>
<li class="mainmenu__item mainmenu__item--examples"><a href="/examples/"><span>Examples</span></a></li>
<li class="mainmenu__item mainmenu__item--community"><a href="/community/"><span>Community</span></a></li>
<li class="mainmenu__item mainmenu__item--blog"><a href="/blog/"><span>Blog</span></a></li>
<li class="mainmenu__item mainmenu__item--more"><a href="/more/"><span>More</span></a></li>

    </ul>
    <div class="sidebar__legal">
      <a href="https://www.pebble.com/legal/privacy/" target="_blank">Privacy</a>
      <br>
      <a href="https://www.pebble.com/legal/cookies/" target="_blank">Cookies</a>
    </div>
    <a href="https://dev-portal.getpebble.com/" target="_blank" class="sidebar__footer">Publish</a>
  </div>
  <div class="section-menu section-menu--docs section-menu--dark">
    <div class="section-menu__header">
      
      <h3><a href="/docs/c/">Pebble C API</a><a href="#"><i class="fa fa-chevron-down fa-lg documentation-menu__arrow js-doc-menu-toggle"></i></a></h3>
      
      <ul class="documentation-menu js-doc-menu">
        <li><a href="/docs/c/">Pebble C API</a></li>
        
        <li><a href="/docs/rockyjs/">Pebble JavaScript API</a></li>
        <li><a href="/docs/pebblekit-js/">PebbleKit JS</a></li>
        <li><a href="/docs/pebblekit-ios/">PebbleKit iOS</a></li>
        <li><a href="/docs/pebblekit-android/">PebbleKit Android</a></li>
      </ul>
    </div>
    
    <ul>

  
  
  <li class="section-menu__item open">
    <a href="/docs/c/Foundation/">Foundation</a>
    <ul>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/App/"><span>App</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/App_Communication/"><span>App Communication</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/App_Glance/"><span>App Glance</span></a>
        
      </li>
    
      <li class="section-menu__subitem open active">
        <a href="/docs/c/Foundation/AppMessage/"><span>AppMessage</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/AppSync/"><span>AppSync</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/AppWorker/"><span>AppWorker</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/DataLogging/"><span>DataLogging</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/DataStructures/"><span>DataStructures</span></a>
        
        <ul>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/DataStructures/UUID/"><span>UUID</span></a></li>
          
        </ul>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Dictation/"><span>Dictation</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Dictionary/"><span>Dictionary</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Event_Service/"><span>Event Service</span></a>
        
        <ul>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/AccelerometerService/"><span>AccelerometerService</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/AppFocusService/"><span>AppFocusService</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/BatteryStateService/"><span>BatteryStateService</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/CompassService/"><span>CompassService</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/ConnectionService/"><span>ConnectionService</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/HealthService/"><span>HealthService</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Event_Service/TickTimerService/"><span>TickTimerService</span></a></li>
          
        </ul>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Exit_Reason/"><span>Exit Reason</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Internationalization/"><span>Internationalization</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Launch_Reason/"><span>Launch Reason</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Logging/"><span>Logging</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Math/"><span>Math</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Memory_Management/"><span>Memory Management</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Platform/"><span>Platform</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Resources/"><span>Resources</span></a>
        
        <ul>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Foundation/Resources/File_Formats/"><span>File Formats</span></a></li>
          
        </ul>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Storage/"><span>Storage</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Timer/"><span>Timer</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Wakeup/"><span>Wakeup</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Wall_Time/"><span>Wall Time</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/WatchInfo/"><span>WatchInfo</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Foundation/Rocky/"><span>Rocky</span></a>
        
      </li>
    
    </ul>
  </li>
  
  
  
  
  <li class="section-menu__item">
    <a href="/docs/c/Graphics/">Graphics</a>
    <ul>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Draw_Commands/"><span>Draw Commands</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Drawing_Paths/"><span>Drawing Paths</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Drawing_Primitives/"><span>Drawing Primitives</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Drawing_Text/"><span>Drawing Text</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Fonts/"><span>Fonts</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Graphics_Context/"><span>Graphics Context</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Graphics/Graphics_Types/"><span>Graphics Types</span></a>
        
        <ul>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/Graphics/Graphics_Types/Color_Definitions/"><span>Color Definitions</span></a></li>
          
        </ul>
        
      </li>
    
    </ul>
  </li>
  
  
  
  
  <li class="section-menu__item">
    <a href="/docs/c/User_Interface/">User Interface</a>
    <ul>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Animation/"><span>Animation</span></a>
        
        <ul>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Animation/PropertyAnimation/"><span>PropertyAnimation</span></a></li>
          
        </ul>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Clicks/"><span>Clicks</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Layers/"><span>Layers</span></a>
        
        <ul>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/ActionBarLayer/"><span>ActionBarLayer</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/BitmapLayer/"><span>BitmapLayer</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/MenuLayer/"><span>MenuLayer</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/RotBitmapLayer/"><span>RotBitmapLayer</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/ScrollLayer/"><span>ScrollLayer</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/SimpleMenuLayer/"><span>SimpleMenuLayer</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/StatusBarLayer/"><span>StatusBarLayer</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Layers/TextLayer/"><span>TextLayer</span></a></li>
          
        </ul>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Light/"><span>Light</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Preferences/"><span>Preferences</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/UnobstructedArea/"><span>UnobstructedArea</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Vibes/"><span>Vibes</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Window/"><span>Window</span></a>
        
        <ul>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Window/ActionMenu/"><span>ActionMenu</span></a></li>
          
          
            <li class="section-menu__subsubitem"><a href="/docs/c/User_Interface/Window/NumberWindow/"><span>NumberWindow</span></a></li>
          
        </ul>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/User_Interface/Window_Stack/"><span>Window Stack</span></a>
        
      </li>
    
    </ul>
  </li>
  
  
  
  
  
  
  
  
  
  
  <li class="section-menu__item">
    <a href="/docs/c/Standard_C/">Standard C</a>
    <ul>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Format/"><span>Format</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Locale/"><span>Locale</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Math/"><span>Math</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Memory/"><span>Memory</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/String/"><span>String</span></a>
        
      </li>
    
      <li class="section-menu__subitem">
        <a href="/docs/c/Standard_C/Time/"><span>Time</span></a>
        
      </li>
    
    </ul>
  </li>
  
  
</ul>

    
  </div>
</div><!-- sidebar__wrapper -->
<div class="content content--section-menu">
  <div class="search">
  <a  href="javascript:void(0);" class="mobile-nav__hamburger js-mobile-nav-toggle"><i class="fa fa-reorder"></i></a>
  <i class="fa fa-lg fa-search search__icon"></i><input type="search" id="quicksearch" placeholder="Search Developer Site">
</div>
<div class="quicksearch" style="display: none;" id="quicksearch__results"></div>
<div id="search__blackout" style="display: none;"></div>

  <div class="container">
    <div class="visible-m visible-s visible-xs row">
  <div class="col-xs-11">
    <div class="form__group">
      <div class="select-style no-label">
        <select class="js-toc-select">
          <option value="">Jump to item&hellip;</option>
          

          
<option value="#functions">FUNCTIONS</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_open">app_message_open</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_deregister_callbacks">app_message_deregister_callbacks</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_get_context">app_message_get_context</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_set_context">app_message_set_context</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_register_inbox_received">app_message_register_inbox_received</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_register_inbox_dropped">app_message_register_inbox_dropped</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_register_outbox_sent">app_message_register_outbox_sent</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_register_outbox_failed">app_message_register_outbox_failed</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_inbox_size_maximum">app_message_inbox_size_maximum</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_outbox_size_maximum">app_message_outbox_size_maximum</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_outbox_begin">app_message_outbox_begin</option>

  <option value="/docs/c/Foundation/AppMessage/#app_message_outbox_send">app_message_outbox_send</option>



          

          

          
<option value="#enums">ENUMS</option>

  <option value="/docs/c/Foundation/AppMessage/#AppMessageResult">AppMessageResult</option>



          
<option value="#typedefs">TYPEDEFS</option>

  <option value="/docs/c/Foundation/AppMessage/#AppMessageInboxReceived">AppMessageInboxReceived</option>

  <option value="/docs/c/Foundation/AppMessage/#AppMessageInboxDropped">AppMessageInboxDropped</option>

  <option value="/docs/c/Foundation/AppMessage/#AppMessageOutboxSent">AppMessageOutboxSent</option>

  <option value="/docs/c/Foundation/AppMessage/#AppMessageOutboxFailed">AppMessageOutboxFailed</option>



          
<option value="#defines">MACRO DEFINTIONS</option>

  <option value="/docs/c/Foundation/AppMessage/#APP_MESSAGE_INBOX_SIZE_MINIMUM">APP_MESSAGE_INBOX_SIZE_MINIMUM</option>

  <option value="/docs/c/Foundation/AppMessage/#APP_MESSAGE_OUTBOX_SIZE_MINIMUM">APP_MESSAGE_OUTBOX_SIZE_MINIMUM</option>



        </select>
      </div>
    </div>
  </div>
  <div class="col-xs-1">
    <a href="javascript:void(0)" class="btn btn--wide btn--bg-green btn--fg-white fa-lg" data-modal-target="#modal-docs-help" data-modal-fit-viewport="false"><i class="fa fa-question-circle"></i></a>
  </div>
</div>


<div class="row">
  <div class="col-l-8">
    <div class="documentation documentation__c">

      

      

      <h1 class="pagetitle">AppMessage</h1>

      <p>Bi-directional communication between phone apps and Pebble watchapps. </p>
      <p>AppMessage is a bi-directional messaging subsystem that enables communication between phone apps and Pebble watchapps. This is accomplished by allowing phone and watchapps to exchange arbitrary sets of key/value pairs. The key/value pairs are stored in the form of a Dictionary, the layout of which is left for the application developer to define.</p>
<p>AppMessage implements a push-oriented messaging protocol, enabling your app to call functions and methods to push messages from Pebble to phone and vice versa. The protocol is symmetric: both Pebble and the phone can send messages. All messages are acknowledged. In this context, there is no client-server model, as such.</p>
<p>During the sending phase, one side initiates the communication by transferring a dictionary over the air. The other side then receives this message and is given an opportunity to perform actions on that data. As soon as possible, the other side is expected to reply to the message with a simple acknowledgment that the message was received successfully.</p>
<p>PebbleKit JavaScript provides you with a set of standard JavaScript APIs that let your app receive messages from the watch, make HTTP requests, and send new messages to the watch. AppMessage APIs are used to send and receive data. A Pebble watchapp can use the resources of the connected phone to fetch information from web services, send information to web APIs, or store login credentials. On the JavaScript side, you communicate with Pebble via a Pebble object exposed in the namespace.</p>
<p>Messages always need to get either ACKnowledged or "NACK'ed," that is, not acknowledged. If not, messages will result in a time-out failure. The AppMessage subsystem takes care of this implicitly. In the phone libraries, this step is a bit more explicit.</p>
<p>The Pebble watch interfaces make a distinction between the Inbox and the Outbox calls. The Inbox receives messages from the phone on the watch; the Outbox sends messages from the watch to the phone. These two buffers can be managed separately.</p>
<p><h4 level="4">Warning</h4>
</p>
<p>A critical constraint of AppMessage is that messages are limited in size. An ingoing (outgoing) message larger than the inbox (outbox) will not be transmitted and will generate an error. You can choose your inbox and outbox size when you call <a refid="group___app_message_1ga26735aa7eb22ab58bd7496e673d03155" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_open">app_message_open()</a>.</p>
<p>Pebble SDK provides a static minimum guaranteed size (APP_MESSAGE_INBOX_SIZE_MINIMUM and APP_MESSAGE_OUTBOX_SIZE_MINIMUM). Requesting a buffer of the minimum guaranteed size (or smaller) is always guaranteed to succeed on all Pebbles in this SDK version or higher, and with every phone.</p>
<p>In some context, Pebble might be able to provide your application with larger inbox/outbox. You can call <a refid="group___app_message_1gad544294c297f3d1941bd94b6b396a24b" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_inbox_size_maximum">app_message_inbox_size_maximum()</a> and <a refid="group___app_message_1gaa8161491da4b16dde64be8754cfde815" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_outbox_size_maximum">app_message_outbox_size_maximum()</a> in your code to get the largest possible value you can use.</p>
<p>To always get the largest buffer available, follow this best practice:</p>
<p>app_message_open(<a refid="group___app_message_1gad544294c297f3d1941bd94b6b396a24b" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_inbox_size_maximum">app_message_inbox_size_maximum()</a>, <a refid="group___app_message_1gaa8161491da4b16dde64be8754cfde815" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_outbox_size_maximum">app_message_outbox_size_maximum()</a>)</p>
<p>AppMessage uses your application heap space. That means that the sizes you pick for the AppMessage inbox and outbox buffers are important in optimizing your app’s performance. The more you use for AppMessage, the less space you’ll have for the rest of your app.</p>
<p>To register callbacks, you should call <a refid="group___app_message_1ga9ab844c63d926f0e8f708a171b3838d3" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_register_inbox_received">app_message_register_inbox_received()</a>, <a refid="group___app_message_1gad15eeddef5ffa5ea0185eb734c0fbe9d" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_register_inbox_dropped">app_message_register_inbox_dropped()</a>, <a refid="group___app_message_1gae7cbb364b6e932c4bfd1ae89ecca87f9" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_register_outbox_sent">app_message_register_outbox_sent()</a>, <a refid="group___app_message_1ga73c134254ff2b17d3c57c7d019e79323" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_register_outbox_failed">app_message_register_outbox_failed()</a>.</p>
<p>Pebble recommends that you call them before <a refid="group___app_message_1ga26735aa7eb22ab58bd7496e673d03155" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_open">app_message_open()</a> to ensure you do not miss a message arriving between starting AppMessage and registering the callback. You can set a context that will be passed to all the callbacks with <a refid="group___app_message_1gab6d67168d6bed587d5e0c92cd3a54ba6" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_set_context">app_message_set_context()</a>.</p>
<p>In circumstances that may not be ideal, when using AppMessage several types of errors may occur. For example:</p>
<p><ul>
<li><p>The send can’t start because the system state won't allow for a success. Several reasons you're unable to perform a send: A send() is already occurring (only one is possible at a time) or Bluetooth is not enabled or connected.</p></li>
<li><p>The send and receive occur, but the receiver can’t accept the message. For instance, there is no app that receives such a message.</p></li>
<li><p>The send occurs, but the receiver either does not actually receive the message or can’t handle it in a timely fashion.</p></li>
<li><p>In the case of a dropped message, the phone sends a message to the watchapp, while there is still an unprocessed message in the Inbox.</p></li>
</ul>
</p>
<p>Other errors are possible and described by AppMessageResult. A client of the AppMessage interface should use the result codes to be more robust in the face of communication problems either in the field or while debugging.</p>
<p>Refer to the <a href="http://developer.getpebble.com/guides/pebble-apps/communications/">App Communication in the Pebble Developer Guides</a> for a conceptual overview and code usage.</p>
<p>For code examples, refer to the SDK Examples that directly use App Message. These include:<ul>
<li><p><a href="https://github.com/pebble-examples/pebblekit-js-weather">pebblekit-js-weather</a></p></li>
<li><p><a href="https://github.com/pebble-examples/pebblekit-js-quotes">pebblekit-js-quotes</a> </p></li>
</ul>
</p>

      

      


      

      
        <h2 class="anchor" id="functions">Function<span class="hidden-s hidden-xs"> Documentation</span></h2>
        
          <div class="docs__item__anchor" id="app_message_open">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___app_message_1ga695a78c926b20edbb14d7faf5a78c29e" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageResult">AppMessageResult</a> </span><span class="docs__item__name">app_message_open</span><span>(</span><span class="docs__item__param">const <a refid="group___standard_c_1gad53b3f685c3f3153f35ec87ea6f349d1" kindref="member" href="/docs/c/Standard_C/#uint32_t">uint32_t</a> size_inbound</span><span>, </span><span class="docs__item__param">const <a refid="group___standard_c_1gad53b3f685c3f3153f35ec87ea6f349d1" kindref="member" href="/docs/c/Standard_C/#uint32_t">uint32_t</a> size_outbound</span><span></span><span class="docs__item__param__end">)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Open AppMessage to transfers. </p>
</div>


    
<div class="docs__item__description">
  <p>Use <a refid="group___dictionary_1gad31424a83643adbfd9e84c4bd37e4627" kindref="member" href="/docs/c/Foundation/Dictionary/#dict_calc_buffer_size_from_tuplets">dict_calc_buffer_size_from_tuplets()</a> or <a refid="group___dictionary_1ga0551d069624fb5bfc066fecfa4153bde" kindref="member" href="/docs/c/Foundation/Dictionary/#dict_calc_buffer_size">dict_calc_buffer_size()</a> to estimate the size you need.</p>
<p>


</p>
</div>


    
  <div class="alert alert--docs-notes">
    <h5>Note</h5>
    <p>It is recommended that if the Inbox will be used, that at least the Inbox callbacks should be registered before this call. Otherwise it is possible for an Inbox message to be NACK'ed without being seen by the application. </p>
  </div>


    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> size_inbound (in)</dt>
  <dd><p>The required size for the Inbox buffer </p></dt>
  
  <dt><span style="color: #777"></span> size_outbound (in)</dt>
  <dd><p>The required size for the Outbox buffer</p></dt>
  
</dl>


    
  <h4>Returns</h4>
  
    <p>A result code such as <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29ea12a6ea49b151222e76cf4b99b7c0c4cc" kindref="member">APP_MSG_OK</a> or <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29ead1cce21da2d8b46e305f9550a7384238" kindref="member">APP_MSG_OUT_OF_MEMORY</a>.</p>
  


    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_deregister_callbacks">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span>void </span><span class="docs__item__name">app_message_deregister_callbacks</span><span>(</span><span class="docs__item__param">void</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Deregisters all callbacks and their context. </p>
</div>


    

    

    

    

    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_get_context">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span>void * </span><span class="docs__item__name">app_message_get_context</span><span>(</span><span class="docs__item__param">void</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Gets the context that will be passed to all AppMessage callbacks. </p>
</div>


    
<div class="docs__item__description">
  <p>
</p>
</div>


    

    

    
  <h4>Returns</h4>
  
    <p>The current context on record. </p>
  


    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_set_context">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span>void * </span><span class="docs__item__name">app_message_set_context</span><span>(</span><span class="docs__item__param">void * context</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Sets the context that will be passed to all AppMessage callbacks. </p>
</div>


    
<div class="docs__item__description">
  <p>

</p>
</div>


    

    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> context (in)</dt>
  <dd><p>The context that will be passed to all AppMessage callbacks.</p></dt>
  
</dl>


    
  <h4>Returns</h4>
  
    <p>The previous context that was on record. </p>
  


    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_register_inbox_received">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___app_message_1ga96afe3dc428a27239758f73b3cb84d9c" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageInboxReceived">AppMessageInboxReceived</a> </span><span class="docs__item__name">app_message_register_inbox_received</span><span>(</span><span class="docs__item__param"><a refid="group___app_message_1ga96afe3dc428a27239758f73b3cb84d9c" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageInboxReceived">AppMessageInboxReceived</a> received_callback</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Registers a function that will be called after any Inbox message is received successfully. </p>
</div>


    
<div class="docs__item__description">
  <p>Only one callback may be registered at a time. Each subsequent call to this function will replace the previous callback. The callback is optional; setting it to NULL will deregister the current callback and no function will be called anymore.</p>
<p>

</p>
</div>


    

    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> received_callback (in)</dt>
  <dd><p>The callback that will be called going forward; NULL to not have a callback.</p></dt>
  
</dl>


    
  <h4>Returns</h4>
  
    <p>The previous callback (or NULL) that was on record. </p>
  


    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_register_inbox_dropped">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___app_message_1gaebc89fb84b4199c8eb5c4a07112f1867" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageInboxDropped">AppMessageInboxDropped</a> </span><span class="docs__item__name">app_message_register_inbox_dropped</span><span>(</span><span class="docs__item__param"><a refid="group___app_message_1gaebc89fb84b4199c8eb5c4a07112f1867" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageInboxDropped">AppMessageInboxDropped</a> dropped_callback</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Registers a function that will be called after any Inbox message is received but dropped by the system. </p>
</div>


    
<div class="docs__item__description">
  <p>Only one callback may be registered at a time. Each subsequent call to this function will replace the previous callback. The callback is optional; setting it to NULL will deregister the current callback and no function will be called anymore.</p>
<p>

</p>
</div>


    

    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> dropped_callback (in)</dt>
  <dd><p>The callback that will be called going forward; NULL to not have a callback.</p></dt>
  
</dl>


    
  <h4>Returns</h4>
  
    <p>The previous callback (or NULL) that was on record. </p>
  


    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_register_outbox_sent">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___app_message_1ga3b8cde26c0744516c8acca1b3a3638af" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageOutboxSent">AppMessageOutboxSent</a> </span><span class="docs__item__name">app_message_register_outbox_sent</span><span>(</span><span class="docs__item__param"><a refid="group___app_message_1ga3b8cde26c0744516c8acca1b3a3638af" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageOutboxSent">AppMessageOutboxSent</a> sent_callback</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Registers a function that will be called after any Outbox message is sent and an ACK reply occurs in a timely fashion. </p>
</div>


    
<div class="docs__item__description">
  <p>Only one callback may be registered at a time. Each subsequent call to this function will replace the previous callback. The callback is optional; setting it to NULL will deregister the current callback and no function will be called anymore.</p>
<p>

</p>
</div>


    

    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> sent_callback (in)</dt>
  <dd><p>The callback that will be called going forward; NULL to not have a callback.</p></dt>
  
</dl>


    
  <h4>Returns</h4>
  
    <p>The previous callback (or NULL) that was on record. </p>
  


    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_register_outbox_failed">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___app_message_1gab360cbc2497e5f2bbfe2aa137a646c6a" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageOutboxFailed">AppMessageOutboxFailed</a> </span><span class="docs__item__name">app_message_register_outbox_failed</span><span>(</span><span class="docs__item__param"><a refid="group___app_message_1gab360cbc2497e5f2bbfe2aa137a646c6a" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageOutboxFailed">AppMessageOutboxFailed</a> failed_callback</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Registers a function that will be called after any Outbox message is not sent with a timely ACK reply. The call to <a refid="group___app_message_1ga54169009d1ad008ea8e4f66005ce9cfc" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_outbox_send">app_message_outbox_send()</a> must have succeeded. </p>
</div>


    
<div class="docs__item__description">
  <p>Only one callback may be registered at a time. Each subsequent call to this function will replace the previous callback. The callback is optional; setting it to NULL will deregister the current callback and no function will be called anymore.</p>
<p>

</p>
</div>


    

    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> failed_callback (in)</dt>
  <dd><p>The callback that will be called going forward; NULL to not have a callback.</p></dt>
  
</dl>


    
  <h4>Returns</h4>
  
    <p>The previous callback (or NULL) that was on record. </p>
  


    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_inbox_size_maximum">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___standard_c_1gad53b3f685c3f3153f35ec87ea6f349d1" kindref="member" href="/docs/c/Standard_C/#uint32_t">uint32_t</a> </span><span class="docs__item__name">app_message_inbox_size_maximum</span><span>(</span><span class="docs__item__param">void</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Programatically determine the inbox size maximum in the current configuration. </p>
</div>


    
<div class="docs__item__description">
  <p>

</p>
</div>


    

    

    
  <h4>Returns</h4>
  
    <p>The inbox size maximum on this firmware.</p>
  


    
  <h4>See Also</h4>
  <a refid="group___app_message_1ga8a213339bca4388cf17c3f4c4b2e11fd" kindref="member" href="/docs/c/Foundation/AppMessage/#APP_MESSAGE_INBOX_SIZE_MINIMUM">APP_MESSAGE_INBOX_SIZE_MINIMUM</a>


  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_outbox_size_maximum">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___standard_c_1gad53b3f685c3f3153f35ec87ea6f349d1" kindref="member" href="/docs/c/Standard_C/#uint32_t">uint32_t</a> </span><span class="docs__item__name">app_message_outbox_size_maximum</span><span>(</span><span class="docs__item__param">void</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Programatically determine the outbox size maximum in the current configuration. </p>
</div>


    
<div class="docs__item__description">
  <p>

</p>
</div>


    

    

    
  <h4>Returns</h4>
  
    <p>The outbox size maximum on this firmware.</p>
  


    
  <h4>See Also</h4>
  <a refid="group___app_message_1ga6fe648fbe225cda63583342bb2305187" kindref="member" href="/docs/c/Foundation/AppMessage/#APP_MESSAGE_OUTBOX_SIZE_MINIMUM">APP_MESSAGE_OUTBOX_SIZE_MINIMUM</a>


  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_outbox_begin">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___app_message_1ga695a78c926b20edbb14d7faf5a78c29e" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageResult">AppMessageResult</a> </span><span class="docs__item__name">app_message_outbox_begin</span><span>(</span><span class="docs__item__param"><a refid="struct_dictionary_iterator" kindref="compound" href="/docs/c/Foundation/Dictionary/#DictionaryIterator">DictionaryIterator</a> ** iterator</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Begin writing to the Outbox's Dictionary buffer. </p>
</div>


    
<div class="docs__item__description">
  <p>



</p>
</div>


    
  <div class="alert alert--docs-notes">
    <h5>Note</h5>
    <p>After a successful call, one can add values to the dictionary using functions like <a refid="group___dictionary_1ga30091feef740732d5d6bc3cf2312642a" kindref="member" href="/docs/c/Foundation/Dictionary/#dict_write_data">dict_write_data()</a> and friends.</p>
  </div>


    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> iterator (out)</dt>
  <dd><p>Location to write the <a refid="struct_dictionary_iterator" kindref="compound" href="/docs/c/Foundation/Dictionary/#DictionaryIterator">DictionaryIterator</a> pointer. This will be NULL on failure.</p></dt>
  
</dl>


    
  <h4>Returns</h4>
  
    <p>A result code, including but not limited to <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29ea12a6ea49b151222e76cf4b99b7c0c4cc" kindref="member">APP_MSG_OK</a>, <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29eadfb91bdd9c369cc2eb00e019b4cf3846" kindref="member">APP_MSG_INVALID_ARGS</a> or <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29eaad6af2baa488efedd56b17f0ed1e8339" kindref="member">APP_MSG_BUSY</a>.</p>
  


    
  <h4>See Also</h4>
  <a refid="group___dictionary" kindref="compound" href="/docs/c/Foundation/Dictionary/">Dictionary</a>


  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="app_message_outbox_send">
            
              
<div class="docs__item docs__item--function">
  <div class="docs__item__header">
    <span><a refid="group___app_message_1ga695a78c926b20edbb14d7faf5a78c29e" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageResult">AppMessageResult</a> </span><span class="docs__item__name">app_message_outbox_send</span><span>(</span><span class="docs__item__param">void</span><span></span><span>)</span>
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Sends the outbound dictionary. </p>
</div>


    
<div class="docs__item__description">
  <p>

</p>
</div>


    

    

    
  <h4>Returns</h4>
  
    <p>A result code, including but not limited to <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29ea12a6ea49b151222e76cf4b99b7c0c4cc" kindref="member">APP_MSG_OK</a> or <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29eaad6af2baa488efedd56b17f0ed1e8339" kindref="member">APP_MSG_BUSY</a>. The APP_MSG_OK code does not mean that the message was sent successfully, but only that the start of processing was successful. Since this call is asynchronous, callbacks provide the final result instead.</p>
  


    
  <h4>See Also</h4>
  <a refid="group___app_message_1ga3b8cde26c0744516c8acca1b3a3638af" kindref="member" href="/docs/c/Foundation/AppMessage/#AppMessageOutboxSent">AppMessageOutboxSent</a>


  </div>
</div>

            
          </div>
        
      

      

      

      
        <h2 class="anchor" id="enums">Enum<span class="hidden-s hidden-xs"> Documentation</span></h2>
        
          <div class="docs__item__anchor" id="AppMessageResult">
            
            
<div class="docs__item docs__item--enum">
  <div class="docs__item__header">enum <span class="docs__item__name">AppMessageResult</span></div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>AppMessage result codes. </p>
</div>


    

    

    
    <h4>Enumerators</h4>
    
    <dl>
      
      <span id="APP_MSG_OK" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_OK</dt>
        <dd>
          
          <p>(0) All good, operation was successful. </p>
        </dd>
      
      
      <span id="APP_MSG_SEND_TIMEOUT" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_SEND_TIMEOUT</dt>
        <dd>
          
          <p>(2) The other end did not confirm receiving the sent data with an (n)ack in time. </p>
        </dd>
      
      
      <span id="APP_MSG_SEND_REJECTED" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_SEND_REJECTED</dt>
        <dd>
          
          <p>(4) The other end rejected the sent data, with a "nack" reply. </p>
        </dd>
      
      
      <span id="APP_MSG_NOT_CONNECTED" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_NOT_CONNECTED</dt>
        <dd>
          
          <p>(8) The other end was not connected. </p>
        </dd>
      
      
      <span id="APP_MSG_APP_NOT_RUNNING" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_APP_NOT_RUNNING</dt>
        <dd>
          
          <p>(16) The local application was not running. </p>
        </dd>
      
      
      <span id="APP_MSG_INVALID_ARGS" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_INVALID_ARGS</dt>
        <dd>
          
          <p>(32) The function was called with invalid arguments. </p>
        </dd>
      
      
      <span id="APP_MSG_BUSY" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_BUSY</dt>
        <dd>
          
          <p>(64) There are pending (in or outbound) messages that need to be processed first before new ones can be received or sent. </p>
        </dd>
      
      
      <span id="APP_MSG_BUFFER_OVERFLOW" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_BUFFER_OVERFLOW</dt>
        <dd>
          
          <p>(128) The buffer was too small to contain the incoming message. </p>
        </dd>
      
      
      <span id="APP_MSG_ALREADY_RELEASED" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_ALREADY_RELEASED</dt>
        <dd>
          
          <p>(512) The resource had already been released. </p>
        </dd>
      
      
      <span id="APP_MSG_CALLBACK_ALREADY_REGISTERED" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_CALLBACK_ALREADY_REGISTERED</dt>
        <dd>
          
          <p>(1024) The callback was already registered. </p>
        </dd>
      
      
      <span id="APP_MSG_CALLBACK_NOT_REGISTERED" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_CALLBACK_NOT_REGISTERED</dt>
        <dd>
          
          <p>(2048) The callback could not be deregistered, because it had not been registered before. </p>
        </dd>
      
      
      <span id="APP_MSG_OUT_OF_MEMORY" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_OUT_OF_MEMORY</dt>
        <dd>
          
          <p>(4096) The system did not have sufficient application memory to perform the requested operation. </p>
        </dd>
      
      
      <span id="APP_MSG_CLOSED" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_CLOSED</dt>
        <dd>
          
          <p>(8192) App message was closed. </p>
        </dd>
      
      
      <span id="APP_MSG_INTERNAL_ERROR" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_INTERNAL_ERROR</dt>
        <dd>
          
          <p>(16384) An internal OS error prevented AppMessage from completing an operation. </p>
        </dd>
      
      
      <span id="APP_MSG_INVALID_STATE" class="docs__item__anchor"></span>
      
        <dt>APP_MSG_INVALID_STATE</dt>
        <dd>
          
          <p>(32768) The function was called while App Message was not in the appropriate state. </p>
        </dd>
      
      
    </dl>
    
    

  </div>
</div>

            
          </div>
        
      

      
        <h2 class="anchor" id="typedefs">Typedef<span class="hidden-s hidden-xs"> Documentation</span></h2>
        
          <div class="docs__item__anchor" id="AppMessageInboxReceived">
            
            
<div class="docs__item docs__item--typedef">
  <div class="docs__item__header">
    typedef void(* <span class="docs__item__name">AppMessageInboxReceived</span>)(DictionaryIterator *iterator, void *context)
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Called after an incoming message is received. </p>
</div>


    
<div class="docs__item__description">
  <p>
</p>
</div>


    

    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> iterator (in)</dt>
  <dd><p>The dictionary iterator to the received message. Never NULL. Note that the iterator cannot be modified or saved off. The library may need to re-use the buffered space where this message is supplied. Returning from the callback indicates to the library that the received message contents are no longer needed or have already been externalized outside its buffering space and iterator.</p></dt>
  
  <dt><span style="color: #777"></span> context (in)</dt>
  <dd><p>Pointer to application data as specified when registering the callback. </p></dt>
  
</dl>


    

    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="AppMessageInboxDropped">
            
            
<div class="docs__item docs__item--typedef">
  <div class="docs__item__header">
    typedef void(* <span class="docs__item__name">AppMessageInboxDropped</span>)(AppMessageResult reason, void *context)
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Called after an incoming message is dropped. </p>
</div>


    
<div class="docs__item__description">
  <p>
Note that you can call <a refid="group___app_message_1ga7715e322ec2a7a49bf66aa63353190fd" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_outbox_begin">app_message_outbox_begin()</a> from this handler to prepare a new message. This will invalidate the previous dictionary iterator; do not use it after calling <a refid="group___app_message_1ga7715e322ec2a7a49bf66aa63353190fd" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_outbox_begin">app_message_outbox_begin()</a>. </p>
</div>


    

    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> result (in)</dt>
  <dd><p>The reason why the message was dropped. Some possibilities include <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29eaad6af2baa488efedd56b17f0ed1e8339" kindref="member">APP_MSG_BUSY</a> and <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29eaf2eb603be26c295d0a16433564a72598" kindref="member">APP_MSG_BUFFER_OVERFLOW</a>.</p></dt>
  
  <dt><span style="color: #777"></span> context (in)</dt>
  <dd><p>Pointer to application data as specified when registering the callback.</p></dt>
  
</dl>


    

    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="AppMessageOutboxSent">
            
            
<div class="docs__item docs__item--typedef">
  <div class="docs__item__header">
    typedef void(* <span class="docs__item__name">AppMessageOutboxSent</span>)(DictionaryIterator *iterator, void *context)
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Called after an outbound message has been sent and the reply has been received. </p>
</div>


    
<div class="docs__item__description">
  <p>
</p>
</div>


    

    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> iterator (in)</dt>
  <dd><p>The dictionary iterator to the sent message. The iterator will be in the final state that was sent. Note that the iterator cannot be modified or saved off as the library will re-open the dictionary with dict_begin() after this callback returns.</p></dt>
  
  <dt><span style="color: #777"></span> context (in)</dt>
  <dd><p>Pointer to application data as specified when registering the callback. </p></dt>
  
</dl>


    

    

  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="AppMessageOutboxFailed">
            
            
<div class="docs__item docs__item--typedef">
  <div class="docs__item__header">
    typedef void(* <span class="docs__item__name">AppMessageOutboxFailed</span>)(DictionaryIterator *iterator, AppMessageResult reason, void *context)
    <div class="clearfix"></div>
  </div>
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>Called after an outbound message has not been sent successfully. </p>
</div>


    
<div class="docs__item__description">
  <p>
Note that you can call <a refid="group___app_message_1ga7715e322ec2a7a49bf66aa63353190fd" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_outbox_begin">app_message_outbox_begin()</a> from this handler to prepare a new message. This will invalidate the previous dictionary iterator; do not use it after calling <a refid="group___app_message_1ga7715e322ec2a7a49bf66aa63353190fd" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_outbox_begin">app_message_outbox_begin()</a>. </p>
</div>


    

    
<h4>Parameters</h4>
<dl>
  
  <dt><span style="color: #777"></span> iterator (in)</dt>
  <dd><p>The dictionary iterator to the sent message. The iterator will be in the final state that was sent. Note that the iterator cannot be modified or saved off as the library will re-open the dictionary with dict_begin() after this callback returns.</p></dt>
  
  <dt><span style="color: #777"></span> result (in)</dt>
  <dd><p>The result of the operation. Some possibilities for the value include <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29ea4a03bcc21fc33a6acc7d73188b2b4b21" kindref="member">APP_MSG_SEND_TIMEOUT</a>, <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29eadba700a7db67d4238d24e7379b69fba3" kindref="member">APP_MSG_SEND_REJECTED</a>, <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29ea8dda18d5302ef6b07aa83985e91b54b7" kindref="member">APP_MSG_NOT_CONNECTED</a>, <a refid="group___app_message_1gga695a78c926b20edbb14d7faf5a78c29ea38e78da25eed665c85368df213ed8088" kindref="member">APP_MSG_APP_NOT_RUNNING</a>, and the combination <code>(APP_MSG_NOT_CONNECTED | APP_MSG_APP_NOT_RUNNING)</code>.</p></dt>
  
  <dt><span style="color: #777"></span> context</dt>
  <dd><p>Pointer to application data as specified when registering the callback.</p></dt>
  
</dl>


    

    

  </div>
</div>

            
          </div>
        
      

      
        <h2 class="anchor" id="defines">Macro Definition<span class="hidden-s hidden-xs"> Documentation</span></h2>
        
          <div class="docs__item__anchor" id="APP_MESSAGE_INBOX_SIZE_MINIMUM">
            
            
<div class="docs__item docs__item--define">
  
  <div class="docs__item__header">#define <span class="docs__item__name">APP_MESSAGE_INBOX_SIZE_MINIMUM </span> 124</div>
  
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>As long as the firmware maintains its current major version, inboxes of this size or smaller will be allowed. </p>
</div>


    
<div class="docs__item__description">
  <p>
</p>
</div>


    

    

    

    
  <h4>See Also</h4>
  <a refid="group___app_message_1gad544294c297f3d1941bd94b6b396a24b" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_inbox_size_maximum">app_message_inbox_size_maximum()</a>


  </div>
</div>

            
          </div>
        
          <div class="docs__item__anchor" id="APP_MESSAGE_OUTBOX_SIZE_MINIMUM">
            
            
<div class="docs__item docs__item--define">
  
  <div class="docs__item__header">#define <span class="docs__item__name">APP_MESSAGE_OUTBOX_SIZE_MINIMUM </span> 636</div>
  
  <div class="docs__item__body">
    
<div class="docs__item__summary">
  <p>As long as the firmware maintains its current major version, outboxes of this size or smaller will be allowed. </p>
</div>


    
<div class="docs__item__description">
  <p>
</p>
</div>


    

    

    

    
  <h4>See Also</h4>
  <a refid="group___app_message_1gaa8161491da4b16dde64be8754cfde815" kindref="member" href="/docs/c/Foundation/AppMessage/#app_message_outbox_size_maximum">app_message_outbox_size_maximum()</a>


  </div>
</div>

            
          </div>
        
      

    </div>
  </div>
  <div class="col-l-4 hidden-s hidden-xs hidden-m">
    <div class="gray-box gray-box--fixed">
      <p><a href="javascript:void(0)" class="btn btn--wide btn--bg-green btn--fg-white" data-modal-target="#modal-docs-help" data-modal-fit-viewport="false">Need some help?</a></p>
      

      
<h3><a href="#functions">Functions</a></h3>
<ul class="toc">
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_open">app_message_open</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_deregister_callbacks">app_message_deregister_callbacks</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_get_context">app_message_get_context</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_set_context">app_message_set_context</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_register_inbox_received">app_message_register_inbox_received</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_register_inbox_dropped">app_message_register_inbox_dropped</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_register_outbox_sent">app_message_register_outbox_sent</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_register_outbox_failed">app_message_register_outbox_failed</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_inbox_size_maximum">app_message_inbox_size_maximum</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_outbox_size_maximum">app_message_outbox_size_maximum</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_outbox_begin">app_message_outbox_begin</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#app_message_outbox_send">app_message_outbox_send</a></li>
  
</ul>


      

      

      
<h3><a href="#enums">Enums</a></h3>
<ul class="toc">
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#AppMessageResult">AppMessageResult</a></li>
  
</ul>


      
<h3><a href="#typedefs">Typedefs</a></h3>
<ul class="toc">
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#AppMessageInboxReceived">AppMessageInboxReceived</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#AppMessageInboxDropped">AppMessageInboxDropped</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#AppMessageOutboxSent">AppMessageOutboxSent</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#AppMessageOutboxFailed">AppMessageOutboxFailed</a></li>
  
</ul>


      
<h3><a href="#defines">Macro Defintions</a></h3>
<ul class="toc">
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#APP_MESSAGE_INBOX_SIZE_MINIMUM">APP_MESSAGE_INBOX_SIZE_MINIMUM</a></li>
  
    <li class="toc__item"><a href="/docs/c/Foundation/AppMessage/#APP_MESSAGE_OUTBOX_SIZE_MINIMUM">APP_MESSAGE_OUTBOX_SIZE_MINIMUM</a></li>
  
</ul>


    </div>
  </div>
</div>

<div id="modal-docs-help" class="hidden" style="width: 40em;">
  <h4>Getting Help</h4>
  <p>
    Do you have questions about the Pebble SDK?
  </p>
  <p>
    Do you need some help understanding something on this page?
  </p>
  <p>
    You can either take advantage of our awesome developer community and
    <a href="https://forums.getpebble.com/categories/watchface-sdk-help/">check out the SDK Help forums</a>,
    or you can <a href="/contact/">send us a message</a> through
    the website!
  </p>
</div>

  </div>
</div>

    
  </div>
  <script type="text/javascript">
    var searchPrimary = '';
  </script>
  
  <script type="text/javascript" src="/assets/js/libs-ce98da7b5eecc97f976a3cad8e665a31.js"></script>
  
  <script type="text/javascript" src="/assets/js/templates.js"></script>
  <script type="text/javascript" src="/assets/js/app.js"></script>
  <script type="text/javascript" src="/assets/js/search.js"></script>
  <script type="text/javascript" src="/assets/js/quicksearch.js"></script>
  <script type="text/javascript" src="/assets/js/disqus.js"></script>
  
  <script type="text/javascript" src="/assets/js/docs/c.js"></script>
  
</body>
</html>
