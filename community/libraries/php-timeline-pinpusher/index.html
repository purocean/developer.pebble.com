<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Php Timeline Pinpusher // Pebble Developers</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="The official developer website for the Pebble smartwatch.">
  <link rel="canonical" href="http://developer.getpebble.com/community/libraries/php-timeline-pinpusher/">
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,600,700" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet" type="text/css">
  <link href="/developer.pebble.com/assets/favicon.png" rel="shortcut icon" type="image/vnd.microsoft.icon" id="favicon">
  <link rel="stylesheet" type="text/css" href="/developer.pebble.com/assets/css/main.css">

  <noscript>
  <link rel="stylesheet" type="text/css" href="/developer.pebble.com/assets/css/noscript.css">
  </noscript>

  <script type="text/javascript" >
    var _rollbarConfig = {
      accessToken: 'e1ecd52de5ba46c88e9f6f346a954c62',
      captureUncaught: true,
      payload: {
        environment: 'production'
      }
    };
    !function(a,b){function c(b){this.shimId=++h,this.notifier=null,this.parentShim=b,this.logger=function(){},a.console&&void 0===a.console.shimId&&(this.logger=a.console.log)}function d(b,c,d){a._rollbarWrappedError&&(d[4]||(d[4]=a._rollbarWrappedError),d[5]||(d[5]=a._rollbarWrappedError._rollbarContext),a._rollbarWrappedError=null),b.uncaughtError.apply(b,d),c&&c.apply(a,d)}function e(b){var d=c;return g(function(){if(this.notifier)return this.notifier[b].apply(this.notifier,arguments);var c=this,e="scope"===b;e&&(c=new d(this));var f=Array.prototype.slice.call(arguments,0),g={shim:c,method:b,args:f,ts:new Date};return a._rollbarShimQueue.push(g),e?c:void 0})}function f(a,b){if(b.hasOwnProperty&&b.hasOwnProperty("addEventListener")){var c=b.addEventListener;b.addEventListener=function(b,d,e){c.call(this,b,a.wrap(d),e)};var d=b.removeEventListener;b.removeEventListener=function(a,b,c){d.call(this,a,b&&b._wrapped?b._wrapped:b,c)}}}function g(a,b){return b=b||this.logger,function(){try{return a.apply(this,arguments)}catch(c){b("Rollbar internal error:",c)}}}var h=0;c.init=function(a,b){var e=b.globalAlias||"Rollbar";if("object"==typeof a[e])return a[e];a._rollbarShimQueue=[],a._rollbarWrappedError=null,b=b||{};var h=new c;return g(function(){if(h.configure(b),b.captureUncaught){var c=a.onerror;a.onerror=function(){var a=Array.prototype.slice.call(arguments,0);d(h,c,a)};var g,i,j="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(g=0;g<j.length;++g)i=j[g],a[i]&&a[i].prototype&&f(h,a[i].prototype)}return a[e]=h,h},h.logger)()},c.prototype.loadFull=function(a,b,c,d,e){var f=g(function(){var a=b.createElement("script"),e=b.getElementsByTagName("script")[0];a.src=d.rollbarJsUrl,a.async=!c,a.onload=h,e.parentNode.insertBefore(a,e)},this.logger),h=g(function(){var b;if(void 0===a._rollbarPayloadQueue){var c,d,f,g;for(b=new Error("rollbar.js did not load");c=a._rollbarShimQueue.shift();)for(f=c.args,g=0;g<f.length;++g)if(d=f[g],"function"==typeof d){d(b);break}}"function"==typeof e&&e(b)},this.logger);g(function(){c?f():a.addEventListener?a.addEventListener("load",f,!1):a.attachEvent("onload",f)},this.logger)()},c.prototype.wrap=function(b,c){try{var d;if(d="function"==typeof c?c:function(){return c||{}},"function"!=typeof b)return b;if(b._isWrap)return b;if(!b._wrapped){b._wrapped=function(){try{return b.apply(this,arguments)}catch(c){throw c._rollbarContext=d(),c._rollbarContext._wrappedSource=b.toString(),a._rollbarWrappedError=c,c}},b._wrapped._isWrap=!0;for(var e in b)b.hasOwnProperty(e)&&(b._wrapped[e]=b[e])}return b._wrapped}catch(f){return b}};for(var i="log,debug,info,warn,warning,error,critical,global,configure,scope,uncaughtError".split(","),j=0;j<i.length;++j)c.prototype[i[j]]=e(i[j]);var k="//d37gvrvc0wt4s1.cloudfront.net/js/v1.1/rollbar.min.js";_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||k;var l=c.init(a,_rollbarConfig);l.loadFull(a,b,!1,_rollbarConfig)}(window,document);
  </script>
  <script type="text/javascript" async>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-30638158-4', 'auto');
    ga('send', 'pageview');
  </script>

</head>
<body class="">
  <div class="mmenu__wrapper">
    <div class="sidebar__wrapper sidebar__wrapper--sectionmenu">
  <div class="sidebar sidebar--narrow">
    <a href="/" class="sidebar__header">
      <span>pebble</span>
    </a>
    <ul class="mainmenu">
      <li class="mainmenu__item mainmenu__item--getting-started"><a href="/tutorials/"><span>Tutorials</span></a></li>
<li class="mainmenu__item mainmenu__item--sdk"><a href="/sdk/"><span>Get the SDK</span></a></li>
<li class="mainmenu__item mainmenu__item--guides"><a href="/guides/"><span>Guides</span></a></li>
<li class="mainmenu__item mainmenu__item--docs"><a href="/docs/"><span>Documentation</span></a></li>
<li class="mainmenu__item mainmenu__item--examples"><a href="/examples/"><span>Examples</span></a></li>
<li class="mainmenu__item mainmenu__item--community active"><a href="/community/"><span>Community</span></a></li>
<li class="mainmenu__item mainmenu__item--blog"><a href="/blog/"><span>Blog</span></a></li>
<li class="mainmenu__item mainmenu__item--more"><a href="/more/"><span>More</span></a></li>

    </ul>
    <div class="sidebar__legal">
      <a href="https://www.pebble.com/legal/privacy/" target="_blank">Privacy</a>
      <br>
      <a href="https://www.pebble.com/legal/cookies/" target="_blank">Cookies</a>
    </div>
    <a href="https://dev-portal.getpebble.com/" target="_blank" class="sidebar__footer">Publish</a>
  </div>
  <div class="section-menu section-menu--community section-menu--dark">
    <div class="section-menu__header">
      <h3><a href="/community/">Community</a></h3>
    </div>
    <ul>
      <li class="section-menu__item">
        <a href="/community/events/">Events</a>
        <ul>
          <li class="section-menu__subitem"><a href="/community/events/developer-retreat-2015/"><span>Developer Retreat 2015</span></a></li>
          <li class="section-menu__subitem"><a href="/community/events/developer-retreat-2014/"><span>Developer Retreat 2014</span></a></li>
        </ul>
      </li>
      <li class="section-menu__item"><a href="/community/online/">Online Communities</a></li>
      <li class="section-menu__item">
        <a href="/community/apps/">Example Apps</a>
        <ul>

            <li class="section-menu__subitem"><a href="/community/apps/Hello/"><span>Hello</span></a></li>

            <li class="section-menu__subitem"><a href="/community/apps/caltrain/"><span>Caltrain</span></a></li>

            <li class="section-menu__subitem"><a href="/community/apps/heroboard/"><span>HeroBoard</span></a></li>

            <li class="section-menu__subitem"><a href="/community/apps/multi-timer/"><span>Multi Timer</span></a></li>

            <li class="section-menu__subitem"><a href="/community/apps/resistor-time/"><span>Resistor Time</span></a></li>

        </ul>
      </li>
      <li class="section-menu__item">
        <a href="/community/tools/">Tools</a>
        <ul>

            <li class="section-menu__subitem"><a href="/community/tools/appmsgbridge/"><span>App Message Bridge</span></a></li>

            <li class="section-menu__subitem"><a href="/community/tools/badge-generator/"><span>Appstore Badge Generator</span></a></li>

            <li class="section-menu__subitem"><a href="/community/tools/gpath-svg/"><span>GPath.svg</span></a></li>

            <li class="section-menu__subitem"><a href="/community/tools/pbuild/"><span>pBuild Travis CI Build Tool</span></a></li>

            <li class="section-menu__subitem"><a href="/community/tools/sublime-text-package/"><span>Sublime Text Plugin</span></a></li>

            <li class="section-menu__subitem"><a href="/community/tools/watchface-generator/"><span>Watchface Generator</span></a></li>

            <li class="section-menu__subitem"><a href="/community/tools/watchstatus/"><span>Watch Status</span></a></li>

        </ul>
      </li>
      <li class="section-menu__item open">
        <a href="/community/libraries/">Libraries</a>
        <ul>

            <li class="section-menu__subitem"><a href="/community/libraries/color-select-lib/"><span>Color Selector</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/custom-status-bar-for-pebble/"><span>Custom Status Bar for Pebble</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/effect-layer/"><span>EffectLayer</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/gbitmap-colour-palette-manipulator/"><span>GBitmap Colour Palette Manipulator</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/java-pebble-timeline/"><span>Java Pebble Timeline</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/js-message-queue/"><span>JS Message Queue</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/pebble-api-dotnet/"><span>Pebble Timeline API for DotNet (C#)</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/pebble-api-php/"><span>Pebble API PHP</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/pebble-timeline-api-ruby/"><span>PebbleTimeline API Ruby</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/php-pebble-timeline/"><span>PHPebbleTimeline</span></a></li>

            <li class="section-menu__subitem active"><a href="/community/libraries/php-timeline-pinpusher/"><span>PinPusher</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/pypebbleapi/"><span>pypebbleapi</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/simple-dithering-library/"><span>Simple Dithering Library</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/t3-keyboard/"><span>T3 Keyboard</span></a></li>

            <li class="section-menu__subitem"><a href="/community/libraries/toastlayer/"><span>ToastLayer Library</span></a></li>

        </ul>
      </li>
    </ul>
  </div>
</div><!-- sidebar__wrapper -->
<div class="content content--section-menu">
  <div class="search">
  <a  href="javascript:void(0);" class="mobile-nav__hamburger js-mobile-nav-toggle"><i class="fa fa-reorder"></i></a>
  <i class="fa fa-lg fa-search search__icon"></i><input type="search" id="quicksearch" placeholder="Search Developer Site">
</div>
<div class="quicksearch" style="display: none;" id="quicksearch__results"></div>
<div id="search__blackout" style="display: none;"></div>

  <div class="container">
  <div class="row">
    <div class="col-l-12">
      <h1>PinPusher</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-l-8">
      <div class="markdown markdown--user">
        <p>PinPusher is a simple Pebble Timeline Pin API wrapper for PHP, with full support for all of the Pebble Timeline API options. It is designed to be easy to use, and allow you to completely construct Timeline pins using PHP classes. This is beneficial to those with bad memories and/or IDEs that autocomplete. It also covers each individual layout case with the different requirements, so you don&#39;t need to guess what works where.</p><p>PinPusher is easily installable via Composer (or manually) and is framework independent. It also supports a PSR-3 compatible logger, if you need logging support. (Which is very helpful for debugging responses from the timeline API.)</p><h2 id="installation" class="anchor">Installation</h2><p>PinPusher can be installed with <a href="https://getcomposer.org/" title="" class="">composer</a>:</p><div class="highlight"><pre>composer require valorin/pinpusher
</pre></div><h2 id="examples" class="anchor">Examples</h2><p>Here are a couple of usage examples, based on the examples in the <a href="/guides/pebble-timeline/pin-structure/" title="" class="">Pebble timeline documentation</a>.
More usage examples can be found at: <a href="https://github.com/valorin/pinpusher">https://github.com/valorin/pinpusher</a>.</p><p><strong>Minimal Pin Example</strong></p><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"example-pin-generic-1"</span><span class="p">,</span>
  <span class="nt">"time"</span><span class="p">:</span> <span class="s2">"2015-03-19T18:00:00Z"</span><span class="p">,</span>
  <span class="nt">"layout"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"genericPin"</span><span class="p">,</span>
    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"News at 6 o'clock"</span><span class="p">,</span>
    <span class="nt">"tinyIcon"</span><span class="p">:</span> <span class="s2">"system://images/NOTIFICATION_FLAG"</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div><p>With PinPusher:</p><div class="highlight"><pre><span class="x">use Valorin\PinPusher\Pusher;</span>
<span class="x">use Valorin\PinPusher\Pin;</span>

<span class="x">$pin = new Pin(</span>
<span class="x">    'example-pin-generic-1',</span>
<span class="x">    new DateTime('2015-03-19T18:00:00Z'),</span>
<span class="x">    new Pin\Layout\Generic(</span>
<span class="x">        "News at 6 o'clock",</span>
<span class="x">        Pin\Icon::NOTIFICATION_FLAG</span>
<span class="x">    )</span>
<span class="x">);</span>

<span class="x">$pusher = new Pusher()</span>
<span class="x">$pusher-&gt;pushToUser($userToken, $pin);</span>
</pre></div><p><strong>Complete Pin Example</strong></p><div class="highlight"><pre><span class="p">{</span>
  <span class="nt">"id"</span><span class="p">:</span> <span class="s2">"meeting-453923"</span><span class="p">,</span>
  <span class="nt">"time"</span><span class="p">:</span> <span class="s2">"2015-03-19T15:00:00Z"</span><span class="p">,</span>
  <span class="nt">"duration"</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
  <span class="nt">"createNotification"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"layout"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"genericNotification"</span><span class="p">,</span>
      <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"New Item"</span><span class="p">,</span>
      <span class="nt">"tinyIcon"</span><span class="p">:</span> <span class="s2">"system://images/NOTIFICATION_FLAG"</span><span class="p">,</span>
      <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"A new appointment has been added to your calendar at 4pm."</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">"updateNotification"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"time"</span><span class="p">:</span> <span class="s2">"2015-03-19T16:00:00Z"</span><span class="p">,</span>
    <span class="nt">"layout"</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"genericNotification"</span><span class="p">,</span>
      <span class="nt">"tinyIcon"</span><span class="p">:</span> <span class="s2">"system://images/NOTIFICATION_FLAG"</span><span class="p">,</span>
      <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Reminder"</span><span class="p">,</span>
      <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"The meeting has been rescheduled to 4pm."</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">"layout"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Client Meeting"</span><span class="p">,</span>
    <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"genericPin"</span><span class="p">,</span>
    <span class="nt">"tinyIcon"</span><span class="p">:</span> <span class="s2">"system://images/TIMELINE_CALENDAR"</span><span class="p">,</span>
    <span class="nt">"body"</span><span class="p">:</span> <span class="s2">"Meeting in Kepler at 4:00pm. Topic: discuss pizza toppings for party."</span>
  <span class="p">},</span>
  <span class="nt">"reminders"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">"time"</span><span class="p">:</span> <span class="s2">"2015-03-19T14:45:00Z"</span><span class="p">,</span>
      <span class="nt">"layout"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"genericReminder"</span><span class="p">,</span>
        <span class="nt">"tinyIcon"</span><span class="p">:</span> <span class="s2">"system://images/TIMELINE_CALENDAR"</span><span class="p">,</span>
        <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Meeting in 15 minutes"</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">"time"</span><span class="p">:</span> <span class="s2">"2015-03-19T14:55:00Z"</span><span class="p">,</span>
      <span class="nt">"layout"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"genericReminder"</span><span class="p">,</span>
        <span class="nt">"tinyIcon"</span><span class="p">:</span> <span class="s2">"system://images/TIMELINE_CALENDAR"</span><span class="p">,</span>
        <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Meeting in 5 minutes"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nt">"actions"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"View Schedule"</span><span class="p">,</span>
      <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"openWatchApp"</span><span class="p">,</span>
      <span class="nt">"launchCode"</span><span class="p">:</span> <span class="mi">15</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="nt">"title"</span><span class="p">:</span> <span class="s2">"Show Directions"</span><span class="p">,</span>
      <span class="nt">"type"</span><span class="p">:</span> <span class="s2">"openWatchApp"</span><span class="p">,</span>
      <span class="nt">"launchCode"</span><span class="p">:</span> <span class="mi">22</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div><p>With PinPusher:</p><div class="highlight"><pre><span class="x">use Valorin\PinPusher\Pusher;</span>
<span class="x">use Valorin\PinPusher\Pin;</span>

<span class="x">// Generic Layout</span>
<span class="x">$layout = new Pin\Layout\Generic('Client Meeting', Pin\Icon::TIMELINE_CALENDAR);</span>
<span class="x">$layout-&gt;setBody('Meeting in Kepler at 4:00pm. Topic: discuss pizza toppings for party.');</span>

<span class="x">// Create Notification</span>
<span class="x">$createNotification = new Pin\Notification\Generic('New Item', Pin\Icon::NOTIFICATION_FLAG);</span>
<span class="x">$createNotification-&gt;setBody('A new appointment has been added to your calendar at 4pm.');</span>

<span class="x">// Update Notification</span>
<span class="x">$updateNotification = new Pin\Notification\Generic('Reminder', Pin\Icon::NOTIFICATION_FLAG);</span>
<span class="x">$updateNotification-&gt;setTime(new DateTime('2015-03-19T16:00:00Z'))</span>
<span class="x">                   -&gt;setBody('The meeting has been rescheduled to 4pm.');</span>

<span class="x">// Reminders</span>
<span class="x">$reminders = [</span>
<span class="x">    new Pin\Reminder\Generic(new DateTime('2015-03-19T14:45:00Z'), 'Meeting in 15 minutes', Pin\Icon::TIMELINE_CALENDAR),</span>
<span class="x">    new Pin\Reminder\Generic(new DateTime('2015-03-19T14:55:00Z'), 'Meeting in 5 minutes', Pin\Icon::TIMELINE_CALENDAR),</span>
<span class="x">];</span>

<span class="x">// Actions</span>
<span class="x">$actions = [</span>
<span class="x">    new Pin\Action\OpenWatchApp('View Schedule', 15),</span>
<span class="x">    new Pin\Action\OpenWatchApp('Show Directions', 22),</span>
<span class="x">];</span>

<span class="x">// Put it all together</span>
<span class="x">$pin = new Pin('meeting-453923', new DateTime('2015-03-19T15:00:00Z'), $layout);</span>
<span class="x">$pin-&gt;setDuration(60)</span>
<span class="x">    -&gt;setCreateNotification($createNotification)</span>
<span class="x">    -&gt;setUpdateNotification($updateNotification)</span>
<span class="x">    -&gt;setReminders($reminders)</span>
<span class="x">    -&gt;setActions($actions);</span>

<span class="x">$pusher = new Pusher()</span>
<span class="x">$pusher-&gt;pushToUser($userToken, $pin);</span>
</pre></div>
      </div>
    </div>
    <div class="col-l-4">
      <div class="gray-box">
        <h5>Created By:</h5>
        <h4>Stephen Rees-Carter</h4>



          <p><a href="https://github.com/valorin/pinpusher" target="_blank" class="btn btn--bg-green btn--fg-white btn--wide">View Library</a></p>

      </div>
    </div>
  </div>
</div>
</div>


  </div>
  <script type="text/javascript">
    var searchPrimary = '';
  </script>

  <script type="text/javascript" src="/developer.pebble.com/assets/js/libs-ce98da7b5eecc97f976a3cad8e665a31.js"></script>

  <script type="text/javascript" src="/developer.pebble.com/assets/js/templates.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/app.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/search.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/quicksearch.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/disqus.js"></script>

</body>
</html>
