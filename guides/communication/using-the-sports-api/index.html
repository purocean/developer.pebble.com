<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Sports API // Pebble Developers</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="description" content="How to use the PebbleKit Sports API to integrate your mobile sports
app with Pebble.
">
  <link rel="canonical" href="http://developer.getpebble.com/guides/communication/using-the-sports-api/">
  <link href="//fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,600,700" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=Inconsolata:400,700" rel="stylesheet" type="text/css">
  <link href="/developer.pebble.com/assets/favicon.png" rel="shortcut icon" type="image/vnd.microsoft.icon" id="favicon">
  <link rel="stylesheet" type="text/css" href="/developer.pebble.com/assets/css/main.css">

  <noscript>
  <link rel="stylesheet" type="text/css" href="/developer.pebble.com/assets/css/noscript.css">
  </noscript>

  <script type="text/javascript" >
    var _rollbarConfig = {
      accessToken: 'e1ecd52de5ba46c88e9f6f346a954c62',
      captureUncaught: true,
      payload: {
        environment: 'production'
      }
    };
    !function(a,b){function c(b){this.shimId=++h,this.notifier=null,this.parentShim=b,this.logger=function(){},a.console&&void 0===a.console.shimId&&(this.logger=a.console.log)}function d(b,c,d){a._rollbarWrappedError&&(d[4]||(d[4]=a._rollbarWrappedError),d[5]||(d[5]=a._rollbarWrappedError._rollbarContext),a._rollbarWrappedError=null),b.uncaughtError.apply(b,d),c&&c.apply(a,d)}function e(b){var d=c;return g(function(){if(this.notifier)return this.notifier[b].apply(this.notifier,arguments);var c=this,e="scope"===b;e&&(c=new d(this));var f=Array.prototype.slice.call(arguments,0),g={shim:c,method:b,args:f,ts:new Date};return a._rollbarShimQueue.push(g),e?c:void 0})}function f(a,b){if(b.hasOwnProperty&&b.hasOwnProperty("addEventListener")){var c=b.addEventListener;b.addEventListener=function(b,d,e){c.call(this,b,a.wrap(d),e)};var d=b.removeEventListener;b.removeEventListener=function(a,b,c){d.call(this,a,b&&b._wrapped?b._wrapped:b,c)}}}function g(a,b){return b=b||this.logger,function(){try{return a.apply(this,arguments)}catch(c){b("Rollbar internal error:",c)}}}var h=0;c.init=function(a,b){var e=b.globalAlias||"Rollbar";if("object"==typeof a[e])return a[e];a._rollbarShimQueue=[],a._rollbarWrappedError=null,b=b||{};var h=new c;return g(function(){if(h.configure(b),b.captureUncaught){var c=a.onerror;a.onerror=function(){var a=Array.prototype.slice.call(arguments,0);d(h,c,a)};var g,i,j="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(g=0;g<j.length;++g)i=j[g],a[i]&&a[i].prototype&&f(h,a[i].prototype)}return a[e]=h,h},h.logger)()},c.prototype.loadFull=function(a,b,c,d,e){var f=g(function(){var a=b.createElement("script"),e=b.getElementsByTagName("script")[0];a.src=d.rollbarJsUrl,a.async=!c,a.onload=h,e.parentNode.insertBefore(a,e)},this.logger),h=g(function(){var b;if(void 0===a._rollbarPayloadQueue){var c,d,f,g;for(b=new Error("rollbar.js did not load");c=a._rollbarShimQueue.shift();)for(f=c.args,g=0;g<f.length;++g)if(d=f[g],"function"==typeof d){d(b);break}}"function"==typeof e&&e(b)},this.logger);g(function(){c?f():a.addEventListener?a.addEventListener("load",f,!1):a.attachEvent("onload",f)},this.logger)()},c.prototype.wrap=function(b,c){try{var d;if(d="function"==typeof c?c:function(){return c||{}},"function"!=typeof b)return b;if(b._isWrap)return b;if(!b._wrapped){b._wrapped=function(){try{return b.apply(this,arguments)}catch(c){throw c._rollbarContext=d(),c._rollbarContext._wrappedSource=b.toString(),a._rollbarWrappedError=c,c}},b._wrapped._isWrap=!0;for(var e in b)b.hasOwnProperty(e)&&(b._wrapped[e]=b[e])}return b._wrapped}catch(f){return b}};for(var i="log,debug,info,warn,warning,error,critical,global,configure,scope,uncaughtError".split(","),j=0;j<i.length;++j)c.prototype[i[j]]=e(i[j]);var k="//d37gvrvc0wt4s1.cloudfront.net/js/v1.1/rollbar.min.js";_rollbarConfig.rollbarJsUrl=_rollbarConfig.rollbarJsUrl||k;var l=c.init(a,_rollbarConfig);l.loadFull(a,b,!1,_rollbarConfig)}(window,document);
  </script>
  <script type="text/javascript" async>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-30638158-4', 'auto');
    ga('send', 'pageview');
  </script>

</head>
<body class="">
  <div class="mmenu__wrapper">
    <div class="sidebar__wrapper sidebar__wrapper--sectionmenu">
  <div class="sidebar sidebar--narrow">
    <a href="/" class="sidebar__header">
      <span>pebble</span>
    </a>
    <ul class="mainmenu">
      <li class="mainmenu__item mainmenu__item--getting-started"><a href="/tutorials/"><span>Tutorials</span></a></li>
<li class="mainmenu__item mainmenu__item--sdk"><a href="/sdk/"><span>Get the SDK</span></a></li>
<li class="mainmenu__item mainmenu__item--guides active"><a href="/guides/"><span>Guides</span></a></li>
<li class="mainmenu__item mainmenu__item--docs"><a href="/docs/"><span>Documentation</span></a></li>
<li class="mainmenu__item mainmenu__item--examples"><a href="/examples/"><span>Examples</span></a></li>
<li class="mainmenu__item mainmenu__item--community"><a href="/community/"><span>Community</span></a></li>
<li class="mainmenu__item mainmenu__item--blog"><a href="/blog/"><span>Blog</span></a></li>
<li class="mainmenu__item mainmenu__item--more"><a href="/more/"><span>More</span></a></li>

    </ul>
    <div class="sidebar__legal">
      <a href="https://www.pebble.com/legal/privacy/" target="_blank">Privacy</a>
      <br>
      <a href="https://www.pebble.com/legal/cookies/" target="_blank">Cookies</a>
    </div>
    <a href="https://dev-portal.getpebble.com/" target="_blank" class="sidebar__footer">Publish</a>
  </div>
  <div class="section-menu section-menu--guides section-menu--light">
    <div class="section-menu__header">
      <h3><a href="/guides/">Guides</a></h3>
    </div>
    <ul>
      <li class="section-menu__item">
        <a href="/guides/toc/">Table of Contents</a>
      </li>




        <li class="section-menu__item">
          <a href="/guides/app-resources/">

            App Resources
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/appstore-publishing/">

            Appstore Publishing
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/best-practices/">

            Best Practices
          </a>

        </li>




        <li class="section-menu__item open">
          <a href="/guides/communication/">

            Communication
          </a>

            <ul>




                <li class="section-menu__subitem">
                  <a href="/guides/communication/advanced-communication/"><span>Advanced Communication</span></a>
                </li>





                <li class="section-menu__subitem">
                  <a href="/guides/communication/datalogging/"><span>Datalogging</span></a>
                </li>



                <li class="section-menu__subitem">
                  <a href="/guides/communication/using-pebblekit-android/"><span>PebbleKit Android</span></a>
                </li>



                <li class="section-menu__subitem">
                  <a href="/guides/communication/using-pebblekit-js/"><span>PebbleKit JS</span></a>
                </li>



                <li class="section-menu__subitem">
                  <a href="/guides/communication/using-pebblekit-ios/"><span>PebbleKit iOS</span></a>
                </li>



                <li class="section-menu__subitem">
                  <a href="/guides/communication/sending-and-receiving-data/"><span>Sending and Receiving Data</span></a>
                </li>



                <li class="section-menu__subitem active">
                  <a href="/guides/communication/using-the-sports-api/"><span>Sports API</span></a>
                </li>



            </ul>

        </li>




        <li class="section-menu__item">
          <a href="/guides/debugging/">

            Debugging
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/design-and-interaction/">

            Design and Interaction
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/events-and-services/">

            Events and Services
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/graphics-and-animations/">

            Graphics and Animations
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/migration/">

            Migrating Older Apps
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/pebble-packages/">

            Pebble Packages
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/pebble-timeline/">

            Pebble Timeline
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/rocky-js/">

            Rocky.js
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/smartstraps/">

            Smartstraps
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/tools-and-resources/">

            Tools and Resources
          </a>

        </li>




        <li class="section-menu__item">
          <a href="/guides/user-interfaces/">

            User Interfaces
          </a>

        </li>

    </ul>
  </div>
</div><!-- sidebar__wrapper -->
<div class="content content--section-menu">
  <div class="search">
  <a  href="javascript:void(0);" class="mobile-nav__hamburger js-mobile-nav-toggle"><i class="fa fa-reorder"></i></a>
  <i class="fa fa-lg fa-search search__icon"></i><input type="search" id="quicksearch" placeholder="Search Developer Site">
</div>
<div class="quicksearch" style="display: none;" id="quicksearch__results"></div>
<div id="search__blackout" style="display: none;"></div>

  <div class="container">

<div class="visible-m visible-s visible-xs row">
  <div class="col-xs-12">
    <div class="form__group">
      <div class="select-style no-label">
        <select class="js-toc-select">

            <option value="available-data-fields">Available Data Fields</option>

            <option value="sports">- Sports</option>

            <option value="golf">- Golf</option>

            <option value="with-pebblekit-android">With PebbleKit Android</option>

            <option value="launching-sports-and-golf">- Launching Sports and Golf</option>

            <option value="customizing-sports">- Customizing Sports</option>

            <option value="displaying-data">- Displaying Data</option>

            <option value="handling-button-events">- Handling Button Events</option>

            <option value="with-pebblekit-ios">With PebbleKit iOS</option>

            <option value="launching-sports-and-golf">- Launching Sports and Golf</option>

            <option value="customizing-sports">- Customizing Sports</option>

            <option value="displaying-data">- Displaying Data</option>

            <option value="handling-button-events">- Handling Button Events</option>

        </select>
      </div>
    </div>
  </div>
</div>


<div class="row">
  <div class="col-l-8 col-m-12">
    <h1 class="pagetitle">Sports API</h1>

<!--

 -->
    <div class="markdown markdown--staff">

    <p>Every Pebble watch has two built-in system watchapps called the Sports app, and
the Golf app. These apps are hidden from the launcher until launched via
PebbleKit Android or PebbleKit iOS.</p><p>Both are designed to be generic apps that display sports-related data in common
formats. The goal is to allow fitness and golf mobile apps to integrate with
Pebble to show the wearer data about their activity without needing to create
and maintain an additional app for Pebble. An example of a popular app that uses
this approach is the
<a href="http://apps.getpebble.com/en_US/application/52e05bd5d8561de307000039" title="" class="">Runkeeper</a>
app.</p><p>The Sports and Golf apps are launched, closed, and controlled by PebbleKit in an
Android or iOS app, shown by example in each section below. In both cases, the
data fields that are available to be populated are different, but data is pushed
in the same way.</p><h2 id="available-data-fields" class="anchor">Available Data Fields</h2><h3 id="sports" class="anchor">Sports</h3>
<div class="screenshot-viewer"><div class="screenshot-viewer__tabs js-screenshot-tabs"><h4 data-platform="aplite">aplite</h4><h4 data-platform="basalt">basalt</h4><h4 data-platform="chalk">chalk</h4></div><div class="screenshot-viewer__screenshots"><div class="screenshot-viewer__platform" data-platform="aplite"><img src="/developer.pebble.com/assets/images/guides/design-and-interaction/sports~aplite.png" class="pebble-screenshot pebble-screenshot--steel-black" /></div><div class="screenshot-viewer__platform" data-platform="basalt"><img src="/developer.pebble.com/assets/images/guides/design-and-interaction/sports~basalt.png" class="pebble-screenshot pebble-screenshot--time-red" /></div><div class="screenshot-viewer__platform" data-platform="chalk"><img src="/developer.pebble.com/assets/images/guides/design-and-interaction/sports~chalk.png" class="pebble-screenshot pebble-screenshot--time-round-rosegold-14" /></div></div></div>
<p>The sports app displays activity duration and distance which can apply to a wide
range of sports, such as cycling or running. A configurable third field is also
available that displays pace or speed, depending on the app&#39;s preference. The
Sports API also allows the app to be configured to display the labels of each
field in metric (the default) or imperial units.</p><p>The action bar is used to prompt the user to use the Select button to pause and
resume their activity session. The companion app is responsible for listening
for these events and implementing the pause/resume operation as appropriate.</p><h3 id="golf" class="anchor">Golf</h3>
<div class="screenshot-viewer"><div class="screenshot-viewer__tabs js-screenshot-tabs"><h4 data-platform="aplite">aplite</h4><h4 data-platform="basalt">basalt</h4><h4 data-platform="chalk">chalk</h4></div><div class="screenshot-viewer__screenshots"><div class="screenshot-viewer__platform" data-platform="aplite"><img src="/developer.pebble.com/assets/images/guides/design-and-interaction/golf~aplite.png" class="pebble-screenshot pebble-screenshot--steel-black" /></div><div class="screenshot-viewer__platform" data-platform="basalt"><img src="/developer.pebble.com/assets/images/guides/design-and-interaction/golf~basalt.png" class="pebble-screenshot pebble-screenshot--time-red" /></div><div class="screenshot-viewer__platform" data-platform="chalk"><img src="/developer.pebble.com/assets/images/guides/design-and-interaction/golf~chalk.png" class="pebble-screenshot pebble-screenshot--time-round-rosegold-14" /></div></div></div>
<p>The Golf app is specialized to displaying data relevant to golf games, including
par and hole numbers, as well as front, mid, and rear yardage.</p><p>Similar to the Sports app, the action bar is used to allow appropriate feedback
to the companion app. In this case the actions are an &#39;up&#39;, &#39;ball&#39; and &#39;down&#39;
events which the companion should handle as appropriate.</p><h2 id="with-pebblekit-android" class="anchor">With PebbleKit Android</h2><p>Once an Android app has set up
<a href="/guides/communication/using-pebblekit-android/"><em>PebbleKit Android</em></a>, the Sports and Golf apps
can be launched and customized as appropriate.</p><h3 id="launching-sports-and-golf" class="anchor">Launching Sports and Golf</h3><p>To launch one of the Sports API apps, simply call <code>startAppOnPebble()</code> and
supply the UUID from the <code>Constants</code> class:</p><div class="highlight"><pre><span class="c1">// Launch the Sports app</span>
<span class="n">PebbleKit</span><span class="o">.</span><span class="na">startAppOnPebble</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_UUID</span><span class="o">);</span>
</pre></div><h3 id="customizing-sports" class="anchor">Customizing Sports</h3><p>To choose which unit type is used, construct and send a <code>PebbleDictionary</code>
containing the desired value from the <code>Constants</code> class. Either
<code>SPORTS_UNITS_IMPERIAL</code> or <code>SPORTS_UNITS_METRIC</code> can be used:</p><div class="highlight"><pre><span class="n">PebbleDictionary</span> <span class="n">dict</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">PebbleDictionary</span><span class="o">();</span>

<span class="c1">// Display imperial units</span>
<span class="n">dict</span><span class="o">.</span><span class="na">addUint8</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_UNITS_KEY</span><span class="o">,</span> <span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_UNITS_IMPERIAL</span><span class="o">);</span>

<span class="n">PebbleKit</span><span class="o">.</span><span class="na">sendDataToPebble</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_UUID</span><span class="o">,</span> <span class="n">dict</span><span class="o">);</span>
</pre></div><p>To select between &#39;pace&#39; or &#39;speed&#39; as the label for the third field, construct
and send a <code>PebbleDictionary</code> similar to the example above. This can be done in
the same message as unit selection:</p><div class="highlight"><pre><span class="n">PebbleDictionary</span> <span class="n">dict</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">PebbleDictionary</span><span class="o">();</span>

<span class="c1">// Display speed instead of pace</span>
<span class="n">dict</span><span class="o">.</span><span class="na">addUint8</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_LABEL_KEY</span><span class="o">,</span> <span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_DATA_SPEED</span><span class="o">);</span>

<span class="n">PebbleKit</span><span class="o">.</span><span class="na">sendDataToPebble</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_UUID</span><span class="o">,</span> <span class="n">dict</span><span class="o">);</span>
</pre></div>
<blockquote>
<p>Note: The Golf app does not feature any customizable fields.</p></blockquote>
<h3 id="displaying-data" class="anchor">Displaying Data</h3><p>Data about the current activity can be sent to either of the Sports API apps
using a <code>PebbleDictionary</code>. For example, to show a value for duration and
distance in the Sports app:</p><div class="highlight"><pre><span class="n">PebbleDictionary</span> <span class="n">dict</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">PebbleDictionary</span><span class="o">();</span>

<span class="c1">// Show a value for duration and distance</span>
<span class="n">dict</span><span class="o">.</span><span class="na">addString</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_TIME_KEY</span><span class="o">,</span> <span class="s">"12:52"</span><span class="o">);</span>
<span class="n">dict</span><span class="o">.</span><span class="na">addString</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_DISTANCE_KEY</span><span class="o">,</span> <span class="s">"23.8"</span><span class="o">);</span>

<span class="n">PebbleKit</span><span class="o">.</span><span class="na">sendDataToPebble</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_UUID</span><span class="o">,</span> <span class="n">dict</span><span class="o">);</span>
</pre></div><p>Read the <a href="/docs/pebblekit-android/com/getpebble/android/kit/Constants" title="" class=""><code>Constants</code></a>
documentation to learn about all the available parameters that can be used for
customization.</p><h3 id="handling-button-events" class="anchor">Handling Button Events</h3><p>When a button event is generated from one of the Sports API apps, a message is
sent to the Android companion app, which can be processed using a
<code>PebbleDataReceiver</code>. For example, to listen for a change in the state of the
Sports app, search for <code>Constants.SPORTS_STATE_KEY</code> in the received
<code>PebbleDictionary</code>. The user is notified in the example below through the use of
an Android
<a href="http://developer.android.com/guide/topics/ui/notifiers/toasts.html" title="" class=""><code>Toast</code></a>:</p><div class="highlight"><pre><span class="c1">// Create a receiver for when the Sports app state changes</span>
<span class="n">PebbleDataReceiver</span> <span class="n">reciever</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PebbleKit</span><span class="o">.</span><span class="na">PebbleDataReceiver</span><span class="o">(</span>
                                                        <span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_UUID</span><span class="o">)</span> <span class="o">{</span>

  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">receiveData</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">id</span><span class="o">,</span> <span class="n">PebbleDictionary</span> <span class="n">data</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">// Always ACKnowledge the last message to prevent timeouts</span>
    <span class="n">PebbleKit</span><span class="o">.</span><span class="na">sendAckToPebble</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="n">id</span><span class="o">);</span>

    <span class="c1">// Get action and display as Toast</span>
    <span class="n">Long</span> <span class="n">value</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">getUnsignedIntegerAsLong</span><span class="o">(</span><span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_STATE_KEY</span><span class="o">);</span>
    <span class="k">if</span><span class="o">(</span><span class="n">value</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="kt">int</span> <span class="n">state</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="na">intValue</span><span class="o">();</span>
      <span class="n">String</span> <span class="n">text</span> <span class="o">=</span> <span class="o">(</span><span class="n">state</span> <span class="o">==</span> <span class="n">Constants</span><span class="o">.</span><span class="na">SPORTS_STATE_PAUSED</span><span class="o">)</span>
                                                      <span class="o">?</span> <span class="s">"Resumed!"</span> <span class="o">:</span> <span class="s">"Paused!"</span><span class="o">;</span>
      <span class="n">Toast</span><span class="o">.</span><span class="na">makeText</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="n">text</span><span class="o">,</span> <span class="n">Toast</span><span class="o">.</span><span class="na">LENGTH_SHORT</span><span class="o">).</span><span class="na">show</span><span class="o">();</span>
    <span class="o">}</span>
  <span class="o">}</span>

<span class="o">};</span>

<span class="c1">// Register the receiver</span>
<span class="n">PebbleKit</span><span class="o">.</span><span class="na">registerReceivedDataHandler</span><span class="o">(</span><span class="n">getApplicationContext</span><span class="o">(),</span> <span class="n">receiver</span><span class="o">);</span>
</pre></div><h2 id="with-pebblekit-ios" class="anchor">With PebbleKit iOS</h2><p>Once an iOS app has set up <a href="/guides/communication/using-pebblekit-ios/"><em>PebbleKit iOS</em></a>,
the Sports and Golf apps can be launched and customized as appropriate. The
companion app should set itself as a delegate of <code>PBPebbleCentralDelegate</code>, and
assign a <code>PBWatch</code> property once <code>watchDidConnect:</code> has fired. This <code>PBWatch</code>
object will then be used to manipulate the Sports API apps. </p><p>Read <em>Becoming a Delegate</em> in the
<a href="/guides/communication/using-pebblekit-ios/"><em>PebbleKit iOS</em></a> guide to see how this is
done.</p><h3 id="launching-sports-and-golf" class="anchor">Launching Sports and Golf</h3><p>To launch one of the Sports API apps, simply call <code>sportsAppLaunch:</code> or
<code>golfAppLaunch:</code> as appropriate:</p><div class="highlight"><pre><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">watch</span> <span class="nl">sportsAppLaunch</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">PBWatch</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">watch</span><span class="p">,</span>
                                                  <span class="bp">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Sports app was launched"</span><span class="p">);</span>
<span class="p">}];</span>
</pre></div><h3 id="customizing-sports" class="anchor">Customizing Sports</h3><p>To choose which unit type is used, call <code>sportsAppSetMetric:</code> with the desired
<code>isMetric</code> <code>BOOL</code>:</p><div class="highlight"><pre><span class="kt">BOOL</span> <span class="n">isMetric</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>

<span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">watch</span> <span class="nl">sportsAppSetMetric</span><span class="p">:</span><span class="n">isMetric</span> <span class="nl">onSent</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">PBWatch</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">watch</span><span class="p">,</span>
                                                 <span class="bp">NSError</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Successfully sent message."</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Error sending message: %@"</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}];</span>
</pre></div><p>To select between &#39;pace&#39; or &#39;speed&#39; as the label for the third field, call
<code>sportsAppSetLabel:</code> with the desired <code>isPace</code> <code>BOOL</code>:</p><div class="highlight"><pre><span class="kt">BOOL</span> <span class="n">isPace</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>

<span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">watch</span> <span class="nl">sportsAppSetLabel</span><span class="p">:</span><span class="n">isPace</span> <span class="nl">onSent</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">PBWatch</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">watch</span><span class="p">,</span>
                                              <span class="bp">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Successfully sent message."</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Error sending message: %@"</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}];</span>
</pre></div>
<blockquote>
<p>Note: The Golf app does not feature any customizable fields.</p></blockquote>
<h3 id="displaying-data" class="anchor">Displaying Data</h3><p>Data about the current activity can be sent to either the Sports or Golf app
using <code>sportsAppUpdate:</code> or <code>golfAppUpdate:</code>. For example, to show a value for
duration and distance in the Sports app:</p><div class="highlight"><pre><span class="c1">// Construct a dictionary of data</span>
<span class="bp">NSDictionary</span> <span class="o">*</span><span class="n">update</span> <span class="o">=</span> <span class="l">@{</span> <span class="nl">PBSportsTimeKey</span><span class="p">:</span> <span class="s">@"12:34"</span><span class="p">,</span>
                          <span class="nl">PBSportsDistanceKey</span><span class="p">:</span> <span class="s">@"6.23"</span> <span class="l">}</span><span class="p">;</span>

<span class="c1">// Send the data to the Sports app</span>
<span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">watch</span> <span class="nl">sportsAppUpdate</span><span class="p">:</span><span class="n">update</span> <span class="nl">onSent</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">PBWatch</span> <span class="o">*</span> <span class="n">_Nonnull</span> <span class="n">watch</span><span class="p">,</span>
                                                  <span class="bp">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Successfully sent message."</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Error sending message: %@"</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}];</span>
</pre></div><p>Read the <a href="/docs/pebblekit-ios/Classes/PBWatch/" title="" class=""><code>PBWatch</code></a> documentation to learn about all
the available methods and values for customization.</p><h3 id="handling-button-events" class="anchor">Handling Button Events</h3><p>When a button event is generated from one of the Sports API apps, a message is
sent to the Android companion app, which can be processed using
<code>sportsAppAddReceiveUpdateHandler</code> and supplying a block to be run when a
message is received. For example, to listen for change in state of the Sports
app, check the value of the provided <code>SportsAppActivityState</code>:</p><div class="highlight"><pre><span class="c1">// Register to get state updates from the Sports app</span>
<span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">watch</span> <span class="nl">sportsAppAddReceiveUpdateHandler</span><span class="p">:</span><span class="o">^</span><span class="kt">BOOL</span><span class="p">(</span><span class="n">PBWatch</span> <span class="o">*</span><span class="n">watch</span><span class="p">,</span>
                                                <span class="n">SportsAppActivityState</span> <span class="n">state</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Display the new state of the watchapp</span>
  <span class="k">switch</span> <span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nl">SportsAppActivityStateRunning</span><span class="p">:</span>
      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Watchapp now running."</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">case</span> <span class="nl">SportsAppActivityStatePaused</span><span class="p">:</span>
      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Watchapp now paused."</span><span class="p">);</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="k">default</span><span class="o">:</span> <span class="k">break</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1">// Finally</span>
  <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}];</span>
</pre></div>
    </div>

    <a id="comments" class="anchor"></a>
    <div id="disqus_thread" aria-live="polite" data-post-url="https://developer.getpebble.com/guides/communication/using-the-sports-api/">
      You need JavaScript enabled to read and post comments.
    </div>


  </div>

    <div class="col-m-4 hidden-s hidden-xs hidden-m">
      <div class="gray-box gray-box--fixed gray-box--scrollspy">

  <h3>Overview</h3>
  <ul class="toc">

      <li class="toc__item toc__item--level1"><a href="#available-data-fields">Available Data Fields</a></li>

      <li class="toc__item toc__item--level2"><a href="#sports">Sports</a></li>

      <li class="toc__item toc__item--level2"><a href="#golf">Golf</a></li>

      <li class="toc__item toc__item--level1"><a href="#with-pebblekit-android">With PebbleKit Android</a></li>

      <li class="toc__item toc__item--level2"><a href="#launching-sports-and-golf">Launching Sports and Golf</a></li>

      <li class="toc__item toc__item--level2"><a href="#customizing-sports">Customizing Sports</a></li>

      <li class="toc__item toc__item--level2"><a href="#displaying-data">Displaying Data</a></li>

      <li class="toc__item toc__item--level2"><a href="#handling-button-events">Handling Button Events</a></li>

      <li class="toc__item toc__item--level1"><a href="#with-pebblekit-ios">With PebbleKit iOS</a></li>

      <li class="toc__item toc__item--level2"><a href="#launching-sports-and-golf">Launching Sports and Golf</a></li>

      <li class="toc__item toc__item--level2"><a href="#customizing-sports">Customizing Sports</a></li>

      <li class="toc__item toc__item--level2"><a href="#displaying-data">Displaying Data</a></li>

      <li class="toc__item toc__item--level2"><a href="#handling-button-events">Handling Button Events</a></li>

  </ul>



          <h3>Examples</h3>
          <ul>

            <li><a href="" target="_blank">PebbleKit Sports API Demos</a></li>

            <li><a href="https://github.com/pebble-examples/pebblekit-sports-api-demo" target="_blank"></a></li>

          </ul>

      </div>
    </div>

</div>

  </div>
</div>


  </div>
  <script type="text/javascript">
    var searchPrimary = '';
  </script>

  <script type="text/javascript" src="/developer.pebble.com/assets/js/libs-ce98da7b5eecc97f976a3cad8e665a31.js"></script>

  <script type="text/javascript" src="/developer.pebble.com/assets/js/templates.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/app.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/search.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/quicksearch.js"></script>
  <script type="text/javascript" src="/developer.pebble.com/assets/js/disqus.js"></script>

</body>
</html>
